import{createRequire as m0}from"node:module";var q0=Object.create;var{getPrototypeOf:y0,defineProperty:w1,getOwnPropertyNames:h0}=Object;var f0=Object.prototype.hasOwnProperty;var g0=($,B,j)=>{j=$!=null?q0(y0($)):{};const G=B||!$||!$.__esModule?w1(j,"default",{value:$,enumerable:!0}):j;for(let Q of h0($))if(!f0.call(G,Q))w1(G,Q,{get:()=>$[Q],enumerable:!0});return G};var F=($,B)=>()=>(B||$((B={exports:{}}).exports,B),B.exports);var A=m0(import.meta.url);var C1=F((_B,Y1)=>{function v(){}function u0($,B,j){this.fn=$,this.context=B,this.once=j||!1}function P1($,B,j,G,Q){if(typeof j!=="function")throw new TypeError("The listener must be a function");var Z=new u0(j,G||$,Q),z=T?T+B:B;if(!$._events[z])$._events[z]=Z,$._eventsCount++;else if(!$._events[z].fn)$._events[z].push(Z);else $._events[z]=[$._events[z],Z];return $}function s($,B){if(--$._eventsCount===0)$._events=new v;else delete $._events[B]}function L(){this._events=new v,this._eventsCount=0}var v0=Object.prototype.hasOwnProperty,T="~";if(Object.create){if(v.prototype=Object.create(null),!new v().__proto__)T=!1}L.prototype.eventNames=function $(){var B=[],j,G;if(this._eventsCount===0)return B;for(G in j=this._events)if(v0.call(j,G))B.push(T?G.slice(1):G);if(Object.getOwnPropertySymbols)return B.concat(Object.getOwnPropertySymbols(j));return B};L.prototype.listeners=function $(B){var j=T?T+B:B,G=this._events[j];if(!G)return[];if(G.fn)return[G.fn];for(var Q=0,Z=G.length,z=new Array(Z);Q<Z;Q++)z[Q]=G[Q].fn;return z};L.prototype.listenerCount=function $(B){var j=T?T+B:B,G=this._events[j];if(!G)return 0;if(G.fn)return 1;return G.length};L.prototype.emit=function $(B,j,G,Q,Z,z){var W=T?T+B:B;if(!this._events[W])return!1;var _=this._events[W],K=arguments.length,Y,J;if(_.fn){if(_.once)this.removeListener(B,_.fn,void 0,!0);switch(K){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,j),!0;case 3:return _.fn.call(_.context,j,G),!0;case 4:return _.fn.call(_.context,j,G,Q),!0;case 5:return _.fn.call(_.context,j,G,Q,Z),!0;case 6:return _.fn.call(_.context,j,G,Q,Z,z),!0}for(J=1,Y=new Array(K-1);J<K;J++)Y[J-1]=arguments[J];_.fn.apply(_.context,Y)}else{var X=_.length,I;for(J=0;J<X;J++){if(_[J].once)this.removeListener(B,_[J].fn,void 0,!0);switch(K){case 1:_[J].fn.call(_[J].context);break;case 2:_[J].fn.call(_[J].context,j);break;case 3:_[J].fn.call(_[J].context,j,G);break;case 4:_[J].fn.call(_[J].context,j,G,Q);break;default:if(!Y)for(I=1,Y=new Array(K-1);I<K;I++)Y[I-1]=arguments[I];_[J].fn.apply(_[J].context,Y)}}}return!0};L.prototype.on=function $(B,j,G){return P1(this,B,j,G,!1)};L.prototype.once=function $(B,j,G){return P1(this,B,j,G,!0)};L.prototype.removeListener=function $(B,j,G,Q){var Z=T?T+B:B;if(!this._events[Z])return this;if(!j)return s(this,Z),this;var z=this._events[Z];if(z.fn){if(z.fn===j&&(!Q||z.once)&&(!G||z.context===G))s(this,Z)}else{for(var W=0,_=[],K=z.length;W<K;W++)if(z[W].fn!==j||Q&&!z[W].once||G&&z[W].context!==G)_.push(z[W]);if(_.length)this._events[Z]=_.length===1?_[0]:_;else s(this,Z)}return this};L.prototype.removeAllListeners=function $(B){var j;if(B){if(j=T?T+B:B,this._events[j])s(this,j)}else this._events=new v,this._eventsCount=0;return this};L.prototype.off=L.prototype.removeListener;L.prototype.addListener=L.prototype.on;L.prefixed=T;L.EventEmitter=L;if(typeof Y1!=="undefined")Y1.exports=L});var E1=F((KB,S1)=>{S1.exports=function $(B,j){if(j=j.split(":")[0],B=+B,!B)return!1;switch(j){case"http":case"ws":return B!==80;case"https":case"wss":return B!==443;case"ftp":return B!==21;case"gopher":return B!==70;case"file":return!1}return B!==0}});var o=F((x1)=>{function p0($){return!!~$.indexOf(":")}var S=x1,d0=A("url"),b1=A("util")._extend,c0=E1(),l0=/(^|,)\s*upgrade\s*($|,)/i,Q1=/^https|wss/;S.isSSL=Q1;S.setupOutgoing=function($,B,j,G){if($.port=B[G||"target"].port||(Q1.test(B[G||"target"].protocol)?443:80),["host","hostname","socketPath","pfx","key","passphrase","cert","ca","ciphers","secureProtocol"].forEach(function(W){$[W]=B[G||"target"][W]}),$.method=B.method||j.method,$.headers=b1({},j.headers),B.headers)b1($.headers,B.headers);if(B.auth)$.auth=B.auth;if(B.ca)$.ca=B.ca;if(Q1.test(B[G||"target"].protocol))$.rejectUnauthorized=typeof B.secure==="undefined"?!0:B.secure;if($.agent=B.agent||!1,$.localAddress=B.localAddress,!$.agent){if($.headers=$.headers||{},typeof $.headers.connection!=="string"||!l0.test($.headers.connection))$.headers.connection="close"}var Q=B[G||"target"],Z=Q&&B.prependPath!==!1?Q.path||"":"",z=!B.toProxy?d0.parse(j.url).path||"":j.url;if(z=!B.ignorePath?z:"",$.path=S.urlJoin(Z,z),B.changeOrigin)$.headers.host=c0($.port,B[G||"target"].protocol)&&!p0($.host)?$.host+":"+$.port:$.host;return $};S.setupSocket=function($){return $.setTimeout(0),$.setNoDelay(!0),$.setKeepAlive(!0,0),$};S.getPort=function($){var B=$.headers.host?$.headers.host.match(/:(\d+)/):"";return B?B[1]:S.hasEncryptedConnection($)?"443":"80"};S.hasEncryptedConnection=function($){return Boolean($.connection.encrypted||$.connection.pair)};S.urlJoin=function(){var $=Array.prototype.slice.call(arguments),B=$.length-1,j=$[B],G=j.split("?"),Q;return $[B]=G.shift(),Q=[$.filter(Boolean).join("/").replace(/\/+/g,"/").replace("http:/","http://").replace("https:/","https://")],Q.push.apply(Q,G),Q.join("?")};S.rewriteCookieProperty=function $(B,j,G){if(Array.isArray(B))return B.map(function(Q){return $(Q,j,G)});return B.replace(new RegExp("(;\\s*"+G+"=)([^;]+)","i"),function(Q,Z,z){var W;if(z in j)W=j[z];else if("*"in j)W=j["*"];else return Q;if(W)return Z+W;else return""})}});var y1=F((WB,q1)=>{var R1=A("url"),k1=o(),i0=/^201|30(1|2|7|8)$/;/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, res, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */q1.exports={removeChunked:function $(B,j,G){if(B.httpVersion==="1.0")delete G.headers["transfer-encoding"]},setConnection:function $(B,j,G){if(B.httpVersion==="1.0")G.headers.connection=B.headers.connection||"close";else if(B.httpVersion!=="2.0"&&!G.headers.connection)G.headers.connection=B.headers.connection||"keep-alive"},setRedirectHostRewrite:function $(B,j,G,Q){if((Q.hostRewrite||Q.autoRewrite||Q.protocolRewrite)&&G.headers.location&&i0.test(G.statusCode)){var Z=R1.parse(Q.target),z=R1.parse(G.headers.location);if(Z.host!=z.host)return;if(Q.hostRewrite)z.host=Q.hostRewrite;else if(Q.autoRewrite)z.host=B.headers.host;if(Q.protocolRewrite)z.protocol=Q.protocolRewrite;G.headers.location=z.format()}},writeHeaders:function $(B,j,G,Q){var{cookieDomainRewrite:Z,cookiePathRewrite:z,preserveHeaderKeyCase:W}=Q,_,K=function(X,I){if(I==null)return;if(Z&&X.toLowerCase()==="set-cookie")I=k1.rewriteCookieProperty(I,Z,"domain");if(z&&X.toLowerCase()==="set-cookie")I=k1.rewriteCookieProperty(I,z,"path");j.setHeader(String(X).trim(),I)};if(typeof Z==="string")Z={"*":Z};if(typeof z==="string")z={"*":z};if(W&&G.rawHeaders!=null){_={};for(var Y=0;Y<G.rawHeaders.length;Y+=2){var J=G.rawHeaders[Y];_[J.toLowerCase()]=J}}Object.keys(G.headers).forEach(function(X){var I=G.headers[X];if(W&&_)X=_[X]||X;K(X,I)})},writeStatusCode:function $(B,j,G){if(G.statusMessage)j.statusCode=G.statusCode,j.statusMessage=G.statusMessage;else j.statusCode=G.statusCode}}});var f1=F((IB,h1)=>{function s0($){if($=String($),$.length>100)return;var B=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(!B)return;var j=parseFloat(B[1]),G=(B[2]||"ms").toLowerCase();switch(G){case"years":case"year":case"yrs":case"yr":case"y":return j*a0;case"weeks":case"week":case"w":return j*n0;case"days":case"day":case"d":return j*b;case"hours":case"hour":case"hrs":case"hr":case"h":return j*f;case"minutes":case"minute":case"mins":case"min":case"m":return j*h;case"seconds":case"second":case"secs":case"sec":case"s":return j*y;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return j;default:return}}function o0($){var B=Math.abs($);if(B>=b)return Math.round($/b)+"d";if(B>=f)return Math.round($/f)+"h";if(B>=h)return Math.round($/h)+"m";if(B>=y)return Math.round($/y)+"s";return $+"ms"}function t0($){var B=Math.abs($);if(B>=b)return t($,B,b,"day");if(B>=f)return t($,B,f,"hour");if(B>=h)return t($,B,h,"minute");if(B>=y)return t($,B,y,"second");return $+" ms"}function t($,B,j,G){var Q=B>=j*1.5;return Math.round($/j)+" "+G+(Q?"s":"")}var y=1000,h=y*60,f=h*60,b=f*24,n0=b*7,a0=b*365.25;h1.exports=function($,B){B=B||{};var j=typeof $;if(j==="string"&&$.length>0)return s0($);else if(j==="number"&&isFinite($))return B.long?t0($):o0($);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify($))}});var Z1=F((VB,g1)=>{function r0($){j.debug=j,j.default=j,j.coerce=_,j.disable=Z,j.enable=Q,j.enabled=z,j.humanize=f1(),j.destroy=K,Object.keys($).forEach((Y)=>{j[Y]=$[Y]}),j.names=[],j.skips=[],j.formatters={};function B(Y){let J=0;for(let X=0;X<Y.length;X++)J=(J<<5)-J+Y.charCodeAt(X),J|=0;return j.colors[Math.abs(J)%j.colors.length]}j.selectColor=B;function j(Y){let J,X=null,I,P;function V(...N){if(!V.enabled)return;const E=V,C=Number(new Date),x0=C-(J||C);if(E.diff=x0,E.prev=J,E.curr=C,J=C,N[0]=j.coerce(N[0]),typeof N[0]!=="string")N.unshift("%O");let a=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,(G1,R0)=>{if(G1==="%%")return"%";a++;const D1=j.formatters[R0];if(typeof D1==="function"){const k0=N[a];G1=D1.call(E,k0),N.splice(a,1),a--}return G1}),j.formatArgs.call(E,N),(E.log||j.log).apply(E,N)}if(V.namespace=Y,V.useColors=j.useColors(),V.color=j.selectColor(Y),V.extend=G,V.destroy=j.destroy,Object.defineProperty(V,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(X!==null)return X;if(I!==j.namespaces)I=j.namespaces,P=j.enabled(Y);return P},set:(N)=>{X=N}}),typeof j.init==="function")j.init(V);return V}function G(Y,J){const X=j(this.namespace+(typeof J==="undefined"?":":J)+Y);return X.log=this.log,X}function Q(Y){j.save(Y),j.namespaces=Y,j.names=[],j.skips=[];let J;const X=(typeof Y==="string"?Y:"").split(/[\s,]+/),I=X.length;for(J=0;J<I;J++){if(!X[J])continue;if(Y=X[J].replace(/\*/g,".*?"),Y[0]==="-")j.skips.push(new RegExp("^"+Y.slice(1)+"$"));else j.names.push(new RegExp("^"+Y+"$"))}}function Z(){const Y=[...j.names.map(W),...j.skips.map(W).map((J)=>"-"+J)].join(",");return j.enable(""),Y}function z(Y){if(Y[Y.length-1]==="*")return!0;let J,X;for(J=0,X=j.skips.length;J<X;J++)if(j.skips[J].test(Y))return!1;for(J=0,X=j.names.length;J<X;J++)if(j.names[J].test(Y))return!0;return!1}function W(Y){return Y.toString().substring(2,Y.toString().length-2).replace(/\.\*\?$/,"*")}function _(Y){if(Y instanceof Error)return Y.stack||Y.message;return Y}function K(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return j.enable(j.load()),j}g1.exports=r0});var v1=F((m1,e)=>{function e0(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let $;return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&($=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt($[1],10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function $$($){if($[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+$[0]+(this.useColors?"%c ":" ")+"+"+m1.humanize(this.diff),!this.useColors)return;const B="color: "+this.color;$.splice(1,0,B,"color: inherit");let j=0,G=0;$[0].replace(/%[a-zA-Z%]/g,(Q)=>{if(Q==="%%")return;if(j++,Q==="%c")G=j}),$.splice(G,0,B)}function B$($){try{if($)m1.storage.setItem("debug",$);else m1.storage.removeItem("debug")}catch(B){}}function j$(){let $;try{$=m1.storage.getItem("debug")}catch(B){}if(!$&&typeof process!=="undefined"&&"env"in process)$=process.env.DEBUG;return $}function G$(){try{return localStorage}catch($){}}m1.formatArgs=$$;m1.save=B$;m1.load=j$;m1.useColors=e0;m1.storage=G$();m1.destroy=(()=>{let $=!1;return()=>{if(!$)$=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();m1.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];m1.log=console.debug||console.log||(()=>{});e.exports=Z1()(m1);var{formatters:Y$}=e.exports;Y$.j=function($){try{return JSON.stringify($)}catch(B){return"[UnexpectedJSONParseError]: "+B.message}}});var d1=F((AB,u1)=>{u1.exports=($,B)=>{B=B||process.argv;const j=$.startsWith("-")?"":$.length===1?"-":"--",G=B.indexOf(j+$),Q=B.indexOf("--");return G!==-1&&(Q===-1?!0:G<Q)}});var l1=F((FB,c1)=>{function I$($){if($===0)return!1;return{level:$,hasBasic:!0,has256:$>=2,has16m:$>=3}}function V$($){if(g===!1)return 0;if(w("color=16m")||w("color=full")||w("color=truecolor"))return 3;if(w("color=256"))return 2;if($&&!$.isTTY&&g!==!0)return 0;const B=g?1:0;if(process.platform==="win32"){const j=W$.release().split(".");if(Number(process.versions.node.split(".")[0])>=8&&Number(j[0])>=10&&Number(j[2])>=10586)return Number(j[2])>=14931?3:2;return 1}if("CI"in U){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((j)=>(j in U))||U.CI_NAME==="codeship")return 1;return B}if("TEAMCITY_VERSION"in U)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(U.TEAMCITY_VERSION)?1:0;if(U.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in U){const j=parseInt((U.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(U.TERM_PROGRAM){case"iTerm.app":return j>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(U.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(U.TERM))return 1;if("COLORTERM"in U)return 1;if(U.TERM==="dumb")return B;return B}function z1($){const B=V$($);return I$(B)}var W$=A("os"),w=d1(),U=process.env,g;if(w("no-color")||w("no-colors")||w("color=false"))g=!1;else if(w("color")||w("colors")||w("color=true")||w("color=always"))g=!0;if("FORCE_COLOR"in U)g=U.FORCE_COLOR.length===0||parseInt(U.FORCE_COLOR,10)!==0;c1.exports={supportsColor:z1,stdout:z1(process.stdout),stderr:z1(process.stderr)}});var a1=F((i1,B1)=>{function A$(){return"colors"in i1.inspectOpts?Boolean(i1.inspectOpts.colors):N$.isatty(process.stderr.fd)}function F$($){const{namespace:B,useColors:j}=this;if(j){const G=this.color,Q="\x1B[3"+(G<8?G:"8;5;"+G),Z=`  ${Q};1m${B} \x1B[0m`;$[0]=Z+$[0].split("\n").join("\n"+Z),$.push(Q+"m+"+i1.humanize(this.diff)+"\x1B[0m")}else $[0]=M$()+B+" "+$[0]}function M$(){if(i1.inspectOpts.hideDate)return"";return(new Date()).toISOString()+" "}function O$(...$){return process.stderr.write($1.formatWithOptions(i1.inspectOpts,...$)+"\n")}function L$($){if($)process.env.DEBUG=$;else delete process.env.DEBUG}function U$(){return process.env.DEBUG}function T$($){$.inspectOpts={};const B=Object.keys(i1.inspectOpts);for(let j=0;j<B.length;j++)$.inspectOpts[B[j]]=i1.inspectOpts[B[j]]}var N$=A("tty"),$1=A("util");i1.init=T$;i1.log=O$;i1.formatArgs=F$;i1.save=L$;i1.load=U$;i1.useColors=A$;i1.destroy=$1.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");i1.colors=[6,2,3,4,5,1];try{const $=l1();if($&&($.stderr||$).level>=2)i1.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}catch($){}i1.inspectOpts=Object.keys(process.env).filter(($)=>{return/^debug_/i.test($)}).reduce(($,B)=>{const j=B.substring(6).toLowerCase().replace(/_([a-z])/g,(Q,Z)=>{return Z.toUpperCase()});let G=process.env[B];if(/^(yes|on|true|enabled)$/i.test(G))G=!0;else if(/^(no|off|false|disabled)$/i.test(G))G=!1;else if(G==="null")G=null;else G=Number(G);return $[j]=G,$},{});B1.exports=Z1()(i1);var{formatters:p1}=B1.exports;p1.o=function($){return this.inspectOpts.colors=this.useColors,$1.inspect($,this.inspectOpts).split("\n").map((B)=>B.trim()).join(" ")};p1.O=function($){return this.inspectOpts.colors=this.useColors,$1.inspect($,this.inspectOpts)}});var s1=F((OB,J1)=>{if(typeof process==="undefined"||process.type==="renderer"||!1||process.__nwjs)J1.exports=v1();else J1.exports=a1()});var t1=F((LB,o1)=>{var u;o1.exports=function(){if(!u){try{u=s1()("follow-redirects")}catch($){}if(typeof u!=="function")u=function(){}}u.apply(null,arguments)}});var j0=F((UB,L1)=>{function H($,B){if(I1.call(this),this._sanitizeOptions($),this._options=$,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],B)this.on("response",B);var j=this;this._onNativeResponse=function(G){try{j._processResponse(G)}catch(Q){j.emit("error",Q instanceof X1?Q:new X1({cause:Q}))}},this._performRequest()}function e1($){var B={maxRedirects:21,maxBodyLength:10485760},j={};return Object.keys($).forEach(function(G){var Q=G+":",Z=j[Q]=$[G],z=B[G]=Object.create(Z);function W(K,Y,J){if(v$(K))K=W1(K);else if(R(K))K=W1(M1(K));else J=Y,Y=B0(K),K={protocol:Q};if(c(Y))J=Y,Y=null;if(Y=Object.assign({maxRedirects:B.maxRedirects,maxBodyLength:B.maxBodyLength},K,Y),Y.nativeProtocols=j,!R(Y.host)&&!R(Y.hostname))Y.hostname="::1";return V1.equal(Y.protocol,Q,"protocol mismatch"),r1("options",Y),new H(Y,J)}function _(K,Y,J){var X=z.request(K,Y,J);return X.end(),X}Object.defineProperties(z,{request:{value:W,configurable:!0,enumerable:!0,writable:!0},get:{value:_,configurable:!0,enumerable:!0,writable:!0}})}),B}function $0(){}function M1($){var B;if(N1)B=new d($);else if(B=B0(l.parse($)),!R(B.protocol))throw new K1({input:$});return B}function f$($,B){return N1?new d($,B):M1(l.resolve(B,$))}function B0($){if(/^\[/.test($.hostname)&&!/^\[[:0-9a-f]+\]$/i.test($.hostname))throw new K1({input:$.href||$});if(/^\[/.test($.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test($.host))throw new K1({input:$.href||$});return $}function W1($,B){var j=B||{};for(var G of R$)j[G]=$[G];if(j.hostname.startsWith("["))j.hostname=j.hostname.slice(1,-1);if(j.port!=="")j.port=Number(j.port);return j.path=j.search?j.pathname+j.search:j.pathname,j}function _1($,B){var j;for(var G in B)if($.test(G))j=B[G],delete B[G];return j===null||typeof j==="undefined"?void 0:String(j).trim()}function p($,B,j){function G(Q){Error.captureStackTrace(this,this.constructor),Object.assign(this,Q||{}),this.code=$,this.message=this.cause?B+": "+this.cause.message:B}return G.prototype=new(j||Error),Object.defineProperties(G.prototype,{constructor:{value:G,enumerable:!1},name:{value:"Error ["+$+"]",enumerable:!1}}),G}function O1($,B){for(var j of A1)$.removeListener(j,F1[j]);$.on("error",$0),$.destroy(B)}function g$($,B){V1(R($)&&R(B));var j=$.length-B.length-1;return j>0&&$[j]==="."&&$.endsWith(B)}function R($){return typeof $==="string"||$ instanceof String}function c($){return typeof $==="function"}function m$($){return typeof $==="object"&&"length"in $}function v$($){return d&&$ instanceof d}var l=A("url"),d=l.URL,b$=A("http"),x$=A("https"),I1=A("stream").Writable,V1=A("assert"),r1=t1(),N1=!1;try{V1(new d)}catch($){N1=$.code==="ERR_INVALID_URL"}var R$=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],A1=["abort","aborted","connect","error","socket","timeout"],F1=Object.create(null);A1.forEach(function($){F1[$]=function(B,j,G){this._redirectable.emit($,B,j,G)}});var K1=p("ERR_INVALID_URL","Invalid URL",TypeError),X1=p("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),k$=p("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",X1),q$=p("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),y$=p("ERR_STREAM_WRITE_AFTER_END","write after end"),h$=I1.prototype.destroy||$0;H.prototype=Object.create(I1.prototype);H.prototype.abort=function(){O1(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};H.prototype.destroy=function($){return O1(this._currentRequest,$),h$.call(this,$),this};H.prototype.write=function($,B,j){if(this._ending)throw new y$;if(!R($)&&!m$($))throw new TypeError("data should be a string, Buffer or Uint8Array");if(c(B))j=B,B=null;if($.length===0){if(j)j();return}if(this._requestBodyLength+$.length<=this._options.maxBodyLength)this._requestBodyLength+=$.length,this._requestBodyBuffers.push({data:$,encoding:B}),this._currentRequest.write($,B,j);else this.emit("error",new q$),this.abort()};H.prototype.end=function($,B,j){if(c($))j=$,$=B=null;else if(c(B))j=B,B=null;if(!$)this._ended=this._ending=!0,this._currentRequest.end(null,null,j);else{var G=this,Q=this._currentRequest;this.write($,B,function(){G._ended=!0,Q.end(null,null,j)}),this._ending=!0}};H.prototype.setHeader=function($,B){this._options.headers[$]=B,this._currentRequest.setHeader($,B)};H.prototype.removeHeader=function($){delete this._options.headers[$],this._currentRequest.removeHeader($)};H.prototype.setTimeout=function($,B){var j=this;function G(z){z.setTimeout($),z.removeListener("timeout",z.destroy),z.addListener("timeout",z.destroy)}function Q(z){if(j._timeout)clearTimeout(j._timeout);j._timeout=setTimeout(function(){j.emit("timeout"),Z()},$),G(z)}function Z(){if(j._timeout)clearTimeout(j._timeout),j._timeout=null;if(j.removeListener("abort",Z),j.removeListener("error",Z),j.removeListener("response",Z),j.removeListener("close",Z),B)j.removeListener("timeout",B);if(!j.socket)j._currentRequest.removeListener("socket",Q)}if(B)this.on("timeout",B);if(this.socket)Q(this.socket);else this._currentRequest.once("socket",Q);return this.on("socket",G),this.on("abort",Z),this.on("error",Z),this.on("response",Z),this.on("close",Z),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function($){H.prototype[$]=function(B,j){return this._currentRequest[$](B,j)}});["aborted","connection","socket"].forEach(function($){Object.defineProperty(H.prototype,$,{get:function(){return this._currentRequest[$]}})});H.prototype._sanitizeOptions=function($){if(!$.headers)$.headers={};if($.host){if(!$.hostname)$.hostname=$.host;delete $.host}if(!$.pathname&&$.path){var B=$.path.indexOf("?");if(B<0)$.pathname=$.path;else $.pathname=$.path.substring(0,B),$.search=$.path.substring(B)}};H.prototype._performRequest=function(){var $=this._options.protocol,B=this._options.nativeProtocols[$];if(!B)throw new TypeError("Unsupported protocol "+$);if(this._options.agents){var j=$.slice(0,-1);this._options.agent=this._options.agents[j]}var G=this._currentRequest=B.request(this._options,this._onNativeResponse);G._redirectable=this;for(var Q of A1)G.on(Q,F1[Q]);if(this._currentUrl=/^\//.test(this._options.path)?l.format(this._options):this._options.path,this._isRedirect){var Z=0,z=this,W=this._requestBodyBuffers;(function _(K){if(G===z._currentRequest){if(K)z.emit("error",K);else if(Z<W.length){var Y=W[Z++];if(!G.finished)G.write(Y.data,Y.encoding,_)}else if(z._ended)G.end()}})()}};H.prototype._processResponse=function($){var B=$.statusCode;if(this._options.trackRedirects)this._redirects.push({url:this._currentUrl,headers:$.headers,statusCode:B});var j=$.headers.location;if(!j||this._options.followRedirects===!1||B<300||B>=400){$.responseUrl=this._currentUrl,$.redirects=this._redirects,this.emit("response",$),this._requestBodyBuffers=[];return}if(O1(this._currentRequest),$.destroy(),++this._redirectCount>this._options.maxRedirects)throw new k$;var G,Q=this._options.beforeRedirect;if(Q)G=Object.assign({Host:$.req.getHeader("host")},this._options.headers);var Z=this._options.method;if((B===301||B===302)&&this._options.method==="POST"||B===303&&!/^(?:GET|HEAD)$/.test(this._options.method))this._options.method="GET",this._requestBodyBuffers=[],_1(/^content-/i,this._options.headers);var z=_1(/^host$/i,this._options.headers),W=M1(this._currentUrl),_=z||W.host,K=/^\w+:/.test(j)?this._currentUrl:l.format(Object.assign(W,{host:_})),Y=f$(j,K);if(r1("redirecting to",Y.href),this._isRedirect=!0,W1(Y,this._options),Y.protocol!==W.protocol&&Y.protocol!=="https:"||Y.host!==_&&!g$(Y.host,_))_1(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers);if(c(Q)){var J={headers:$.headers,statusCode:B},X={url:K,method:Z,headers:G};Q(this._options,J,X),this._sanitizeOptions(this._options)}this._performRequest()};L1.exports=e1({http:b$,https:x$});L1.exports.wrap=e1});var Y0=F((TB,G0)=>{var u$=A("http"),d$=A("https"),i=y1(),j1=o(),c$=j0();i=Object.keys(i).map(function($){return i[$]});var l$={http:u$,https:d$};/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, res, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */G0.exports={deleteLength:function $(B,j,G){if((B.method==="DELETE"||B.method==="OPTIONS")&&!B.headers["content-length"])B.headers["content-length"]="0",delete B.headers["transfer-encoding"]},timeout:function $(B,j,G){if(G.timeout)B.socket.setTimeout(G.timeout)},XHeaders:function $(B,j,G){if(!G.xfwd)return;var Q=B.isSpdy||j1.hasEncryptedConnection(B),Z={for:B.connection.remoteAddress||B.socket.remoteAddress,port:j1.getPort(B),proto:Q?"https":"http"};["for","port","proto"].forEach(function(z){B.headers["x-forwarded-"+z]=(B.headers["x-forwarded-"+z]||"")+(B.headers["x-forwarded-"+z]?",":"")+Z[z]}),B.headers["x-forwarded-host"]=B.headers["x-forwarded-host"]||B.headers.host||""},stream:function $(B,j,G,Q,Z,z){Z.emit("start",B,j,G.target||G.forward);var W=G.followRedirects?c$:l$,_=W.http,K=W.https;if(G.forward){var Y=(G.forward.protocol==="https:"?K:_).request(j1.setupOutgoing(G.ssl||{},G,B,"forward")),J=P(Y,G.forward);if(B.on("error",J),Y.on("error",J),(G.buffer||B).pipe(Y),!G.target)return j.end()}var X=(G.target.protocol==="https:"?K:_).request(j1.setupOutgoing(G.ssl||{},G,B));if(X.on("socket",function(V){if(Z&&!X.getHeader("expect"))Z.emit("proxyReq",X,B,j,G)}),G.proxyTimeout)X.setTimeout(G.proxyTimeout,function(){X.abort()});B.on("aborted",function(){X.abort()});var I=P(X,G.target);B.on("error",I),X.on("error",I);function P(V,N){return function E(C){if(B.socket.destroyed&&C.code==="ECONNRESET")return Z.emit("econnreset",C,B,j,N),V.abort();if(z)z(C,B,j,N);else Z.emit("error",C,B,j,N)}}(G.buffer||B).pipe(X),X.on("response",function(V){if(Z)Z.emit("proxyRes",V,B,j);if(!j.headersSent&&!G.selfHandleResponse){for(var N=0;N<i.length;N++)if(i[N](B,j,V,G))break}if(!j.finished){if(V.on("end",function(){if(Z)Z.emit("end",B,j,V)}),!G.selfHandleResponse)V.pipe(j)}else if(Z)Z.emit("end",B,j,V)})}}});var Z0=F((HB,Q0)=>{var p$=A("http"),i$=A("https"),m=o();/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, socket, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */Q0.exports={checkMethodAndHeader:function $(B,j){if(B.method!=="GET"||!B.headers.upgrade)return j.destroy(),!0;if(B.headers.upgrade.toLowerCase()!=="websocket")return j.destroy(),!0},XHeaders:function $(B,j,G){if(!G.xfwd)return;var Q={for:B.connection.remoteAddress||B.socket.remoteAddress,port:m.getPort(B),proto:m.hasEncryptedConnection(B)?"wss":"ws"};["for","port","proto"].forEach(function(Z){B.headers["x-forwarded-"+Z]=(B.headers["x-forwarded-"+Z]||"")+(B.headers["x-forwarded-"+Z]?",":"")+Q[Z]})},stream:function $(B,j,G,Q,Z,z){var W=function(Y,J){return Object.keys(J).reduce(function(X,I){var P=J[I];if(!Array.isArray(P))return X.push(I+": "+P),X;for(var V=0;V<P.length;V++)X.push(I+": "+P[V]);return X},[Y]).join("\r\n")+"\r\n\r\n"};if(m.setupSocket(j),Q&&Q.length)j.unshift(Q);var _=(m.isSSL.test(G.target.protocol)?i$:p$).request(m.setupOutgoing(G.ssl||{},G,B));if(Z)Z.emit("proxyReqWs",_,B,j,G,Q);return _.on("error",K),_.on("response",function(Y){if(!Y.upgrade)j.write(W("HTTP/"+Y.httpVersion+" "+Y.statusCode+" "+Y.statusMessage,Y.headers)),Y.pipe(j)}),_.on("upgrade",function(Y,J,X){if(J.on("error",K),J.on("end",function(){Z.emit("close",Y,J,X)}),j.on("error",function(){J.end()}),m.setupSocket(J),X&&X.length)J.unshift(X);j.write(W("HTTP/1.1 101 Switching Protocols",Y.headers)),J.pipe(j).pipe(J),Z.emit("open",J),Z.emit("proxySocket",J)}),_.end();function K(Y){if(z)z(Y,B,j);else Z.emit("error",Y,B,j);j.end()}}}});var I0=F((DB,W0)=>{function U1($){return function(B){return function(j,G){var Q=$==="ws"?this.wsPasses:this.webPasses,Z=[].slice.call(arguments),z=Z.length-1,W,_;if(typeof Z[z]==="function")_=Z[z],z--;var K=B;if(!(Z[z]instanceof Buffer)&&Z[z]!==G)K=z0({},B),z0(K,Z[z]),z--;if(Z[z]instanceof Buffer)W=Z[z];if(["target","forward"].forEach(function(J){if(typeof K[J]==="string")K[J]=n$(K[J])}),!K.target&&!K.forward)return this.emit("error",new Error("Must provide a proper URL as target"));for(var Y=0;Y<Q.length;Y++)if(Q[Y](j,G,K,W,this,_))break}}}function k($){X0.call(this),$=$||{},$.prependPath=$.prependPath===!1?!1:!0,this.web=this.proxyRequest=U1("web")($),this.ws=this.proxyWebsocketRequest=U1("ws")($),this.options=$,this.webPasses=Object.keys(J0).map(function(B){return J0[B]}),this.wsPasses=Object.keys(_0).map(function(B){return _0[B]}),this.on("error",this.onError,this)}var K0=DB,z0=A("util")._extend,n$=A("url").parse,X0=C1(),a$=A("http"),s$=A("https"),J0=Y0(),_0=Z0();K0.Server=k;K0.createRightProxy=U1;A("util").inherits(k,X0);k.prototype.onError=function($){if(this.listeners("error").length===1)throw $};k.prototype.listen=function($,B){var j=this,G=function(Q,Z){j.web(Q,Z)};if(this._server=this.options.ssl?s$.createServer(this.options.ssl,G):a$.createServer(G),this.options.ws)this._server.on("upgrade",function(Q,Z,z){j.ws(Q,Z,z)});return this._server.listen($,B),this};k.prototype.close=function($){var B=this;if(this._server)this._server.close(j);function j(){if(B._server=null,$)$.apply(null,arguments)}};k.prototype.before=function($,B,j){if($!=="ws"&&$!=="web")throw new Error("type must be `web` or `ws`");var G=$==="ws"?this.wsPasses:this.webPasses,Q=!1;if(G.forEach(function(Z,z){if(Z.name===B)Q=z}),Q===!1)throw new Error("No such pass");G.splice(Q,0,j)};k.prototype.after=function($,B,j){if($!=="ws"&&$!=="web")throw new Error("type must be `web` or `ws`");var G=$==="ws"?this.wsPasses:this.webPasses,Q=!1;if(G.forEach(function(Z,z){if(Z.name===B)Q=z}),Q===!1)throw new Error("No such pass");G.splice(Q++,0,j)}});var N0=F((wB,V0)=>{function T1($){return new n($)}var n=I0().Server;n.createProxyServer=T1;n.createServer=T1;n.createProxy=T1;V0.exports=n});var F0=F((PB,A0)=>{/*!
 * Caron dimonio, con occhi di bragia
 * loro accennando, tutte le raccoglie;
 * batte col remo qualunque s’adagia 
 *
 * Charon the demon, with the eyes of glede,
 * Beckoning to them, collects them all together,
 * Beats with his oar whoever lags behind
 *          
 *          Dante - The Divine Comedy (Canto III)
 */A0.exports=N0()});var L0=g0(F0(),1);import*as O0 from"vite";import t$ from"path";import o$ from"fs-extra";import q from"path";var D={cyan:(...$)=>`\x1B[36m${$.join(" ")}\x1B[0m`,red:(...$)=>`\x1B[31m${$.join(" ")}\x1B[0m`,yellow:(...$)=>`\x1B[33m${$.join(" ")}\x1B[0m`,green:(...$)=>`\x1B[32m${$.join(" ")}\x1B[0m`,blue:(...$)=>`\x1B[34m${$.join(" ")}\x1B[0m`,magenta:(...$)=>`\x1B[35m${$.join(" ")}\x1B[0m`,cyanBright:(...$)=>`\x1B[96m${$.join(" ")}\x1B[0m`,redBright:(...$)=>`\x1B[91m${$.join(" ")}\x1B[0m`,yellowBright:(...$)=>`\x1B[93m${$.join(" ")}\x1B[0m`,greenBright:(...$)=>`\x1B[92m${$.join(" ")}\x1B[0m`,blueBright:(...$)=>`\x1B[94m${$.join(" ")}\x1B[0m`,magentaBright:(...$)=>`\x1B[95m${$.join(" ")}\x1B[0m`,whiteBright:(...$)=>`\x1B[97m${$.join(" ")}\x1B[0m`,gray:(...$)=>`\x1B[90m${$.join(" ")}\x1B[0m`,grey:(...$)=>`\x1B[90m${$.join(" ")}\x1B[0m`,white:(...$)=>`\x1B[37m${$.join(" ")}\x1B[0m`,black:(...$)=>`\x1B[30m${$.join(" ")}\x1B[0m`,blackBright:(...$)=>`\x1B[90m${$.join(" ")}\x1B[0m`,bgCyan:(...$)=>`\x1B[46m${$.join(" ")}\x1B[0m`,bgRed:(...$)=>`\x1B[41m${$.join(" ")}\x1B[0m`,bgYellow:(...$)=>`\x1B[43m${$.join(" ")}\x1B[0m`,bgGreen:(...$)=>`\x1B[42m${$.join(" ")}\x1B[0m`,bgBlue:(...$)=>`\x1B[44m${$.join(" ")}\x1B[0m`,bgMagenta:(...$)=>`\x1B[45m${$.join(" ")}\x1B[0m`,bgCyanBright:(...$)=>`\x1B[106m${$.join(" ")}\x1B[0m`,bgRedBright:(...$)=>`\x1B[101m${$.join(" ")}\x1B[0m`,bgYellowBright:(...$)=>`\x1B[103m${$.join(" ")}\x1B[0m`,bgGreenBright:(...$)=>`\x1B[102m${$.join(" ")}\x1B[0m`,bgBlueBright:(...$)=>`\x1B[104m${$.join(" ")}\x1B[0m`,bgMagentaBright:(...$)=>`\x1B[105m${$.join(" ")}\x1B[0m`,cyanBrightBold:(...$)=>`\x1B[96m\x1B[1m${$.join(" ")}\x1B[0m`,redBrightBold:(...$)=>`\x1B[91m\x1B[1m${$.join(" ")}\x1B[0m`,yellowBrightBold:(...$)=>`\x1B[93m\x1B[1m${$.join(" ")}\x1B[0m`,greenBrightBold:(...$)=>`\x1B[92m\x1B[1m${$.join(" ")}\x1B[0m`,blueBrightBold:(...$)=>`\x1B[94m\x1B[1m${$.join(" ")}\x1B[0m`,magentaBrightBold:(...$)=>`\x1B[95m\x1B[1m${$.join(" ")}\x1B[0m`,whiteBrightBold:(...$)=>`\x1B[97m\x1B[1m${$.join(" ")}\x1B[0m`,grayBrightBold:(...$)=>`\x1B[90m\x1B[1m${$.join(" ")}\x1B[0m`,greyBrightBold:(...$)=>`\x1B[90m\x1B[1m${$.join(" ")}\x1B[0m`,whiteBold:(...$)=>`\x1B[37m\x1B[1m${$.join(" ")}\x1B[0m`,blackBold:(...$)=>`\x1B[30m\x1B[1m${$.join(" ")}\x1B[0m`,blackBrightBold:(...$)=>`\x1B[90m\x1B[1m${$.join(" ")}\x1B[0m`};async function M0(){console.warn("Building Vite config using base:",D.yellowBrightBold(q.resolve("vite.config.ts")));let $=await(await import(q.resolve("vite.config.ts"))).default();const B=await o$.readJSONSync(q.resolve("tsconfig.json"));return $={...$,logLevel:"info",mode:"development",root:q.resolve("app/client"),clearScreen:!0,build:{...$.build,cssCodeSplit:!0,outDir:q.resolve("build/client"),sourcemap:!0,rollupOptions:{output:{manualChunks:void 0}},watch:{...$.build?.watch,include:[...(Array.isArray($.build?.watch?.include)?$.build?.watch?.include:[$.build?.watch?.include])||[],...B?.include?.map((j)=>q.resolve(j))||[],"tsconfig.json"].filter(Boolean)},emptyOutDir:!0},resolve:{alias:{config:q.resolve("app/config")}}},$}async function yB($,B,j,G=[]){console.warn(D.bgMagentaBright("Vite: Checking environment...","development")),console.warn(D.bgMagentaBright("Starting Vite proxy for HMR..."));let Q=Number(process.env.VITE_PORT||25555);if(isNaN(Q))Q=25555;const Z=L0.default.createProxyServer({target:{host:"localhost",port:Q}});$.get("*",...G,(K,Y)=>Z.web(K,Y)),B.on("upgrade",(K,Y,J)=>{if(K.url=="/")Z.ws(K,Y,J)});const z=await M0(),W={root:t$.resolve("app/client"),server:{port:Q}};(await O0.createServer({...z,...W})).listen()}import*as b0 from"@vitejs/plugin-react";import GB from"vite-plugin-css-injected-by-js";import YB from"path";import QB from"vite-plugin-checker";import r$ from"fs";import U0 from"path";function T0(){return{name:"vite-base64-inline-assets-plugin",enforce:"pre",load($){const B=U0.resolve($);let j;switch(U0.extname(B)){case".woff":j="font/woff";break;case".woff2":j="font/woff2";break;case".ttf":j="font/ttf";break;case".png":j="image/png";break;case".jpg":case".jpeg":j="image/jpeg";break;case".gif":j="image/gif";break;case".svg":j="image/svg+xml";break}if(j){const Q=r$.readFileSync(B).toString("base64");return`export default "data:${j};base64,${Q}"`}}}}import M from"fs-extra";import O from"path";import H0 from"fs";import D0 from"path";function w0($){return{name:"vite-devops-string-replace-plugin",enforce:"pre",load(B){const j=D0.resolve(B),G=[".ts",".js",".tsx",".jsx"];if(H0.existsSync(j)&&G.includes(D0.extname(j))&&!j.includes("node_modules")&&!j.includes("\0")){let Q=H0.readFileSync(j,{encoding:"utf-8"});return $.forEach((Z)=>{Q=Q.replace(Z.from,Z.to)}),Q}}}}function P0($){const B=process.env.PROJECT_ROOT||".",j=O.resolve(B,"app/config");if(!M.existsSync(j)){console.warn(`viteDevopsAppConfigPlugin: ${D.cyanBrightBold("No app/config folder found.")}`);return}try{const G=M.readdirSync(j).filter((Y)=>{return M.statSync(O.join(j,Y)).isDirectory()}),Q=G.map((Y)=>O.join(j,Y)),z=G.map((Y,J)=>{if(!$)if(M.existsSync(O.join(Q[J],`${Y}.local`))||M.existsSync(O.join(Q[J],`${Y}.local.js`))||M.existsSync(O.join(Q[J],`${Y}.local.ts`))||M.existsSync(O.join(Q[J],`${Y}.local.tsx`))||M.existsSync(O.join(Q[J],`${Y}.local.jsx`)))return[{from:`"config/${Y}/${Y}"`,to:`"config/${Y}/${Y}.local"`},{from:`"config/${Y}/${Y}.js"`,to:`"config/${Y}/${Y}.local.js"`},{from:`"config/${Y}/${Y}.ts"`,to:`"config/${Y}/${Y}.local.ts"`}];else return[];return[{from:`"config/${Y}/${Y}"`,to:`"config/${Y}/${Y}.${$}"`},{from:`"config/${Y}/${Y}.js"`,to:`"config/${Y}/${Y}.${$}.js"`},{from:`"config/${Y}/${Y}.ts"`,to:`"config/${Y}/${Y}.${$}.ts"`}]}).reduce((Y,J)=>Y.concat(J),[]),K=[...!$&&(M.existsSync(O.join(j,"env.local"))||M.existsSync(O.join(j,"env.local.js"))||M.existsSync(O.join(j,"env.local.ts"))||M.existsSync(O.join(j,"env.local.tsx"))||M.existsSync(O.join(j,"env.local.jsx")))?[{from:'"config/env"',to:'"config/env.local"'},{from:'"config/env.js"',to:'"config/env.local.js"'},{from:'"config/env.ts"',to:'"config/env.local.ts"'}]:$?[{from:'"config/env"',to:`"config/env.${$}"`},{from:'"config/env.js"',to:`"config/env.${$}.js"`},{from:'"config/env.ts"',to:`"config/env.${$}.ts"`}]:[],...z];if(K.length>0)console.warn(`

  ${D.yellowBrightBold("Using the following mappings for app config:")}

  \t${D.cyanBrightBold(K.map((Y)=>`\n  ${Y.from} => ${Y.to}`).join("\n\t"))}

      `);return w0(K)}catch(G){console.error(G),console.error(D.redBrightBold(`
      App config plugin failed to load. The default config paths will be used
      and any specific environment requested will be ignored.
    `))}}import C0 from"fs";import H1 from"path";function e$($,B,j,G){if(B<0){if(B=$.length+B,B<0)B=0}return $.slice(0,B)+(G||"")+$.slice(B+j)}function $B($){let B=!1,j=!1;const G=[];let Q={start:-1,stop:-1},Z={start:-1,stop:-1};for(let z=0,W=$.length;z<W;++z){const _=$[z],K=$[z+1];switch(_){case"/":switch(K){case"*":if(!j&&!B)Q.start=z,B=!0,z++;break;case"/":if(!B&&!j)Z.start=z,j=!0,z++;break}break;case"*":if(K==="/"){if(B)Q.stop=z+2,G.push(Q),Q={start:-1,stop:-1},B=!1,z++}break;case"\n":case"\r":if(j)Z.stop=z,G.push(Z),Z={start:-1,stop:-1},j=!1;break}}return G.reverse(),G.forEach((z)=>{$=e$($,z.start,z.stop-z.start)}),$}function BB($){return $=$.replace(/\t/g," "),$=$.replace(/  +/gm," "),$=$.replace(/ (\n|\r)+/gm,"\n"),$=$.replace(/(\n|\r)(\n|\r)+/gm,"\n"),$=$.replace(/(\n|\r) +/gm,"\n"),$.trim()}function jB($){const B=$B($),j=BB(B);return S0(j)}function S0($){const B=JSON.stringify($).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\$\{/gm,"$\\{");return`export default \`${B.slice(1,B.length-1)}\`;`}function E0(){return{name:"vite-devops-shader-compression-plugin",enforce:"pre",load($){const B=H1.resolve($),j=[".vs",".fs"];if(C0.existsSync(B)&&j.includes(H1.extname(B))&&!B.includes("node_modules")&&!B.includes("\0")){const G=C0.readFileSync(B,{encoding:"utf-8"});return console.warn("Not compressing shader:",D.cyanBrightBold(H1.basename(B))),S0(G)}}}}async function Y9($){const B={babel:{parserOpts:{plugins:["decorators-legacy","classProperties"]}}},j=process.env.ENV_MODE;return[E0(),P0(j),(b0?.default||b0?.default?.default)?.($?.react?$?.react(B):B),T0(),GB(),QB({typescript:{root:YB.resolve(".")}})].filter(Boolean)}export{w0 as viteDevopsStringReplacePlugin,E0 as viteDevopsShaderCompressionPlugin,P0 as viteDevopsAppConfigPlugin,T0 as viteBase64InlineAssetsPlugin,yB as useVite,Y9 as useDevopsPlugins};
