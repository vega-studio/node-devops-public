// @bun
var q0=Object.create;var{defineProperty:w1,getPrototypeOf:y0,getOwnPropertyNames:h0}=Object;var f0=Object.prototype.hasOwnProperty;var x0=(_,$,z)=>{z=_!=null?q0(y0(_)):{};const B=$||!_||!_.__esModule?w1(z,"default",{value:_,enumerable:!0}):z;for(let J of h0(_))if(!f0.call(B,J))w1(B,J,{get:()=>_[J],enumerable:!0});return B};var O=(_,$)=>()=>($||_(($={exports:{}}).exports,$),$.exports);var C1=O((X$,B1)=>{var u=function(){},u0=function(_,$,z){this.fn=_,this.context=$,this.once=z||!1},D1=function(_,$,z,B,J){if(typeof z!=="function")throw new TypeError("The listener must be a function");var X=new u0(z,B||_,J),Q=L?L+$:$;if(!_._events[Q])_._events[Q]=X,_._eventsCount++;else if(!_._events[Q].fn)_._events[Q].push(X);else _._events[Q]=[_._events[Q],X];return _},a=function(_,$){if(--_._eventsCount===0)_._events=new u;else delete _._events[$]},F=function(){this._events=new u,this._eventsCount=0},v0=Object.prototype.hasOwnProperty,L="~";if(Object.create){if(u.prototype=Object.create(null),!new u().__proto__)L=!1}F.prototype.eventNames=function _(){var $=[],z,B;if(this._eventsCount===0)return $;for(B in z=this._events)if(v0.call(z,B))$.push(L?B.slice(1):B);if(Object.getOwnPropertySymbols)return $.concat(Object.getOwnPropertySymbols(z));return $};F.prototype.listeners=function _($){var z=L?L+$:$,B=this._events[z];if(!B)return[];if(B.fn)return[B.fn];for(var J=0,X=B.length,Q=new Array(X);J<X;J++)Q[J]=B[J].fn;return Q};F.prototype.listenerCount=function _($){var z=L?L+$:$,B=this._events[z];if(!B)return 0;if(B.fn)return 1;return B.length};F.prototype.emit=function _($,z,B,J,X,Q){var K=L?L+$:$;if(!this._events[K])return!1;var Z=this._events[K],I=arguments.length,G,Y;if(Z.fn){if(Z.once)this.removeListener($,Z.fn,void 0,!0);switch(I){case 1:return Z.fn.call(Z.context),!0;case 2:return Z.fn.call(Z.context,z),!0;case 3:return Z.fn.call(Z.context,z,B),!0;case 4:return Z.fn.call(Z.context,z,B,J),!0;case 5:return Z.fn.call(Z.context,z,B,J,X),!0;case 6:return Z.fn.call(Z.context,z,B,J,X,Q),!0}for(Y=1,G=new Array(I-1);Y<I;Y++)G[Y-1]=arguments[Y];Z.fn.apply(Z.context,G)}else{var W=Z.length,N;for(Y=0;Y<W;Y++){if(Z[Y].once)this.removeListener($,Z[Y].fn,void 0,!0);switch(I){case 1:Z[Y].fn.call(Z[Y].context);break;case 2:Z[Y].fn.call(Z[Y].context,z);break;case 3:Z[Y].fn.call(Z[Y].context,z,B);break;case 4:Z[Y].fn.call(Z[Y].context,z,B,J);break;default:if(!G)for(N=1,G=new Array(I-1);N<I;N++)G[N-1]=arguments[N];Z[Y].fn.apply(Z[Y].context,G)}}}return!0};F.prototype.on=function _($,z,B){return D1(this,$,z,B,!1)};F.prototype.once=function _($,z,B){return D1(this,$,z,B,!0)};F.prototype.removeListener=function _($,z,B,J){var X=L?L+$:$;if(!this._events[X])return this;if(!z)return a(this,X),this;var Q=this._events[X];if(Q.fn){if(Q.fn===z&&(!J||Q.once)&&(!B||Q.context===B))a(this,X)}else{for(var K=0,Z=[],I=Q.length;K<I;K++)if(Q[K].fn!==z||J&&!Q[K].once||B&&Q[K].context!==B)Z.push(Q[K]);if(Z.length)this._events[X]=Z.length===1?Z[0]:Z;else a(this,X)}return this};F.prototype.removeAllListeners=function _($){var z;if($){if(z=L?L+$:$,this._events[z])a(this,z)}else this._events=new u,this._eventsCount=0;return this};F.prototype.off=F.prototype.removeListener;F.prototype.addListener=F.prototype.on;F.prefixed=L;F.EventEmitter=F;if(typeof B1!=="undefined")B1.exports=F});var E1=O((Q$,S1)=>{S1.exports=function _($,z){if(z=z.split(":")[0],$=+$,!$)return!1;switch(z){case"http":case"ws":return $!==80;case"https":case"wss":return $!==443;case"ftp":return $!==21;case"gopher":return $!==70;case"file":return!1}return $!==0}});var s=O((R1)=>{var c0=function(_){return!!~_.indexOf(":")},S=R1,g0=import.meta.require("url"),P1=import.meta.require("util")._extend,m0=E1(),d0=/(^|,)\s*upgrade\s*($|,)/i,G1=/^https|wss/;S.isSSL=G1;S.setupOutgoing=function(_,$,z,B){if(_.port=$[B||"target"].port||(G1.test($[B||"target"].protocol)?443:80),["host","hostname","socketPath","pfx","key","passphrase","cert","ca","ciphers","secureProtocol"].forEach(function(K){_[K]=$[B||"target"][K]}),_.method=$.method||z.method,_.headers=P1({},z.headers),$.headers)P1(_.headers,$.headers);if($.auth)_.auth=$.auth;if($.ca)_.ca=$.ca;if(G1.test($[B||"target"].protocol))_.rejectUnauthorized=typeof $.secure==="undefined"?!0:$.secure;if(_.agent=$.agent||!1,_.localAddress=$.localAddress,!_.agent){if(_.headers=_.headers||{},typeof _.headers.connection!=="string"||!d0.test(_.headers.connection))_.headers.connection="close"}var J=$[B||"target"],X=J&&$.prependPath!==!1?J.path||"":"",Q=!$.toProxy?g0.parse(z.url).path||"":z.url;if(Q=!$.ignorePath?Q:"",_.path=S.urlJoin(X,Q),$.changeOrigin)_.headers.host=m0(_.port,$[B||"target"].protocol)&&!c0(_.host)?_.host+":"+_.port:_.host;return _};S.setupSocket=function(_){return _.setTimeout(0),_.setNoDelay(!0),_.setKeepAlive(!0,0),_};S.getPort=function(_){var $=_.headers.host?_.headers.host.match(/:(\d+)/):"";return $?$[1]:S.hasEncryptedConnection(_)?"443":"80"};S.hasEncryptedConnection=function(_){return Boolean(_.connection.encrypted||_.connection.pair)};S.urlJoin=function(){var _=Array.prototype.slice.call(arguments),$=_.length-1,z=_[$],B=z.split("?"),J;return _[$]=B.shift(),J=[_.filter(Boolean).join("/").replace(/\/+/g,"/").replace("http:/","http://").replace("https:/","https://")],J.push.apply(J,B),J.join("?")};S.rewriteCookieProperty=function _($,z,B){if(Array.isArray($))return $.map(function(J){return _(J,z,B)});return $.replace(new RegExp("(;\\s*"+B+"=)([^;]+)","i"),function(J,X,Q){var K;if(Q in z)K=z[Q];else if("*"in z)K=z["*"];else return J;if(K)return X+K;else return""})}});var y1=O((Z$,q1)=>{var k1=import.meta.require("url"),b1=s(),l0=/^201|30(1|2|7|8)$/;/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, res, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */q1.exports={removeChunked:function _($,z,B){if($.httpVersion==="1.0")delete B.headers["transfer-encoding"]},setConnection:function _($,z,B){if($.httpVersion==="1.0")B.headers.connection=$.headers.connection||"close";else if($.httpVersion!=="2.0"&&!B.headers.connection)B.headers.connection=$.headers.connection||"keep-alive"},setRedirectHostRewrite:function _($,z,B,J){if((J.hostRewrite||J.autoRewrite||J.protocolRewrite)&&B.headers.location&&l0.test(B.statusCode)){var X=k1.parse(J.target),Q=k1.parse(B.headers.location);if(X.host!=Q.host)return;if(J.hostRewrite)Q.host=J.hostRewrite;else if(J.autoRewrite)Q.host=$.headers.host;if(J.protocolRewrite)Q.protocol=J.protocolRewrite;B.headers.location=Q.format()}},writeHeaders:function _($,z,B,J){var{cookieDomainRewrite:X,cookiePathRewrite:Q,preserveHeaderKeyCase:K}=J,Z,I=function(W,N){if(N==null)return;if(X&&W.toLowerCase()==="set-cookie")N=b1.rewriteCookieProperty(N,X,"domain");if(Q&&W.toLowerCase()==="set-cookie")N=b1.rewriteCookieProperty(N,Q,"path");z.setHeader(String(W).trim(),N)};if(typeof X==="string")X={"*":X};if(typeof Q==="string")Q={"*":Q};if(K&&B.rawHeaders!=null){Z={};for(var G=0;G<B.rawHeaders.length;G+=2){var Y=B.rawHeaders[G];Z[Y.toLowerCase()]=Y}}Object.keys(B.headers).forEach(function(W){var N=B.headers[W];if(K&&Z)W=Z[W]||W;I(W,N)})},writeStatusCode:function _($,z,B){if(B.statusMessage)z.statusCode=B.statusCode,z.statusMessage=B.statusMessage;else z.statusCode=B.statusCode}}});var f1=O((I$,h1)=>{var n0=function(_){if(_=String(_),_.length>100)return;var $=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(_);if(!$)return;var z=parseFloat($[1]),B=($[2]||"ms").toLowerCase();switch(B){case"years":case"year":case"yrs":case"yr":case"y":return z*i0;case"weeks":case"week":case"w":return z*p0;case"days":case"day":case"d":return z*P;case"hours":case"hour":case"hrs":case"hr":case"h":return z*h;case"minutes":case"minute":case"mins":case"min":case"m":return z*y;case"seconds":case"second":case"secs":case"sec":case"s":return z*q;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return z;default:return}},a0=function(_){var $=Math.abs(_);if($>=P)return Math.round(_/P)+"d";if($>=h)return Math.round(_/h)+"h";if($>=y)return Math.round(_/y)+"m";if($>=q)return Math.round(_/q)+"s";return _+"ms"},s0=function(_){var $=Math.abs(_);if($>=P)return o(_,$,P,"day");if($>=h)return o(_,$,h,"hour");if($>=y)return o(_,$,y,"minute");if($>=q)return o(_,$,q,"second");return _+" ms"},o=function(_,$,z,B){var J=$>=z*1.5;return Math.round(_/z)+" "+B+(J?"s":"")},q=1000,y=q*60,h=y*60,P=h*24,p0=P*7,i0=P*365.25;h1.exports=function(_,$){$=$||{};var z=typeof _;if(z==="string"&&_.length>0)return n0(_);else if(z==="number"&&isFinite(_))return $.long?s0(_):a0(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))}});var J1=O((W$,x1)=>{var o0=function(_){z.debug=z,z.default=z,z.coerce=Z,z.disable=X,z.enable=J,z.enabled=Q,z.humanize=f1(),z.destroy=I,Object.keys(_).forEach((G)=>{z[G]=_[G]}),z.names=[],z.skips=[],z.formatters={};function $(G){let Y=0;for(let W=0;W<G.length;W++)Y=(Y<<5)-Y+G.charCodeAt(W),Y|=0;return z.colors[Math.abs(Y)%z.colors.length]}z.selectColor=$;function z(G){let Y,W=null,N,D;function V(...A){if(!V.enabled)return;const E=V,C=Number(new Date),R0=C-(Y||C);if(E.diff=R0,E.prev=Y,E.curr=C,Y=C,A[0]=z.coerce(A[0]),typeof A[0]!=="string")A.unshift("%O");let n=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,(z1,k0)=>{if(z1==="%%")return"%";n++;const H1=z.formatters[k0];if(typeof H1==="function"){const b0=A[n];z1=H1.call(E,b0),A.splice(n,1),n--}return z1}),z.formatArgs.call(E,A),(E.log||z.log).apply(E,A)}if(V.namespace=G,V.useColors=z.useColors(),V.color=z.selectColor(G),V.extend=B,V.destroy=z.destroy,Object.defineProperty(V,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(W!==null)return W;if(N!==z.namespaces)N=z.namespaces,D=z.enabled(G);return D},set:(A)=>{W=A}}),typeof z.init==="function")z.init(V);return V}function B(G,Y){const W=z(this.namespace+(typeof Y==="undefined"?":":Y)+G);return W.log=this.log,W}function J(G){z.save(G),z.namespaces=G,z.names=[],z.skips=[];let Y;const W=(typeof G==="string"?G:"").split(/[\s,]+/),N=W.length;for(Y=0;Y<N;Y++){if(!W[Y])continue;if(G=W[Y].replace(/\*/g,".*?"),G[0]==="-")z.skips.push(new RegExp("^"+G.slice(1)+"$"));else z.names.push(new RegExp("^"+G+"$"))}}function X(){const G=[...z.names.map(K),...z.skips.map(K).map((Y)=>"-"+Y)].join(",");return z.enable(""),G}function Q(G){if(G[G.length-1]==="*")return!0;let Y,W;for(Y=0,W=z.skips.length;Y<W;Y++)if(z.skips[Y].test(G))return!1;for(Y=0,W=z.names.length;Y<W;Y++)if(z.names[Y].test(G))return!0;return!1}function K(G){return G.toString().substring(2,G.toString().length-2).replace(/\.\*\?$/,"*")}function Z(G){if(G instanceof Error)return G.stack||G.message;return G}function I(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return z.enable(z.load()),z};x1.exports=o0});var u1=O((v1,r)=>{var t0=function(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},r0=function(_){if(_[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+_[0]+(this.useColors?"%c ":" ")+"+"+v1.humanize(this.diff),!this.useColors)return;const $="color: "+this.color;_.splice(1,0,$,"color: inherit");let z=0,B=0;_[0].replace(/%[a-zA-Z%]/g,(J)=>{if(J==="%%")return;if(z++,J==="%c")B=z}),_.splice(B,0,$)},e0=function(_){try{if(_)v1.storage.setItem("debug",_);else v1.storage.removeItem("debug")}catch($){}},__=function(){let _;try{_=v1.storage.getItem("debug")}catch($){}if(!_&&typeof process!=="undefined"&&"env"in process)_=process.env.DEBUG;return _},$_=function(){try{return localStorage}catch(_){}};v1.formatArgs=r0;v1.save=e0;v1.load=__;v1.useColors=t0;v1.storage=$_();v1.destroy=(()=>{let _=!1;return()=>{if(!_)_=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();v1.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];v1.log=console.debug||console.log||(()=>{});r.exports=J1()(v1);var{formatters:z_}=r.exports;z_.j=function(_){try{return JSON.stringify(_)}catch($){return"[UnexpectedJSONParseError]: "+$.message}}});var m1=O((N$,g1)=>{g1.exports=(_,$)=>{$=$||process.argv;const z=_.startsWith("-")?"":_.length===1?"-":"--",B=$.indexOf(z+_),J=$.indexOf("--");return B!==-1&&(J===-1?!0:B<J)}});var c1=O((V$,d1)=>{var W_=function(_){if(_===0)return!1;return{level:_,hasBasic:!0,has256:_>=2,has16m:_>=3}},K_=function(_){if(f===!1)return 0;if(w("color=16m")||w("color=full")||w("color=truecolor"))return 3;if(w("color=256"))return 2;if(_&&!_.isTTY&&f!==!0)return 0;const $=f?1:0;if(process.platform==="win32"){const z=I_.release().split(".");if(Number(process.versions.node.split(".")[0])>=8&&Number(z[0])>=10&&Number(z[2])>=10586)return Number(z[2])>=14931?3:2;return 1}if("CI"in M){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((z)=>(z in M))||M.CI_NAME==="codeship")return 1;return $}if("TEAMCITY_VERSION"in M)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(M.TEAMCITY_VERSION)?1:0;if(M.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in M){const z=parseInt((M.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(M.TERM_PROGRAM){case"iTerm.app":return z>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(M.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(M.TERM))return 1;if("COLORTERM"in M)return 1;if(M.TERM==="dumb")return $;return $},X1=function(_){const $=K_(_);return W_($)},I_=import.meta.require("os"),w=m1(),M=process.env,f;if(w("no-color")||w("no-colors")||w("color=false"))f=!1;else if(w("color")||w("colors")||w("color=true")||w("color=always"))f=!0;if("FORCE_COLOR"in M)f=M.FORCE_COLOR.length===0||parseInt(M.FORCE_COLOR,10)!==0;d1.exports={supportsColor:X1,stdout:X1(process.stdout),stderr:X1(process.stderr)}});var n1=O((p1,_1)=>{var V_=function(){return"colors"in p1.inspectOpts?Boolean(p1.inspectOpts.colors):N_.isatty(process.stderr.fd)},A_=function(_){const{namespace:$,useColors:z}=this;if(z){const B=this.color,J="\x1B[3"+(B<8?B:"8;5;"+B),X=`  ${J};1m${$} \x1B[0m`;_[0]=X+_[0].split("\n").join("\n"+X),_.push(J+"m+"+p1.humanize(this.diff)+"\x1B[0m")}else _[0]=O_()+$+" "+_[0]},O_=function(){if(p1.inspectOpts.hideDate)return"";return(new Date()).toISOString()+" "},F_=function(..._){return process.stderr.write(e.format(..._)+"\n")},M_=function(_){if(_)process.env.DEBUG=_;else delete process.env.DEBUG},L_=function(){return process.env.DEBUG},T_=function(_){_.inspectOpts={};const $=Object.keys(p1.inspectOpts);for(let z=0;z<$.length;z++)_.inspectOpts[$[z]]=p1.inspectOpts[$[z]]},N_=import.meta.require("tty"),e=import.meta.require("util");p1.init=T_;p1.log=F_;p1.formatArgs=A_;p1.save=M_;p1.load=L_;p1.useColors=V_;p1.destroy=e.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");p1.colors=[6,2,3,4,5,1];try{const _=c1();if(_&&(_.stderr||_).level>=2)p1.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}catch(_){}p1.inspectOpts=Object.keys(process.env).filter((_)=>{return/^debug_/i.test(_)}).reduce((_,$)=>{const z=$.substring(6).toLowerCase().replace(/_([a-z])/g,(J,X)=>{return X.toUpperCase()});let B=process.env[$];if(/^(yes|on|true|enabled)$/i.test(B))B=!0;else if(/^(no|off|false|disabled)$/i.test(B))B=!1;else if(B==="null")B=null;else B=Number(B);return _[z]=B,_},{});_1.exports=J1()(p1);var{formatters:l1}=_1.exports;l1.o=function(_){return this.inspectOpts.colors=this.useColors,e.inspect(_,this.inspectOpts).split("\n").map(($)=>$.trim()).join(" ")};l1.O=function(_){return this.inspectOpts.colors=this.useColors,e.inspect(_,this.inspectOpts)}});var a1=O((O$,Q1)=>{if(typeof process==="undefined"||process.type==="renderer"||!1||process.__nwjs)Q1.exports=u1();else Q1.exports=n1()});var o1=O((F$,s1)=>{var g;s1.exports=function(){if(!g){try{g=a1()("follow-redirects")}catch(_){}if(typeof g!=="function")g=function(){}}g.apply(null,arguments)}});var $0=O((M$,L1)=>{var T=function(_,$){if(K1.call(this),this._sanitizeOptions(_),this._options=_,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],$)this.on("response",$);var z=this;this._onNativeResponse=function(B){try{z._processResponse(B)}catch(J){z.emit("error",J instanceof I1?J:new I1({cause:J}))}},this._performRequest()},r1=function(_){var $={maxRedirects:21,maxBodyLength:10485760},z={};return Object.keys(_).forEach(function(B){var J=B+":",X=z[J]=_[B],Q=$[B]=Object.create(X);function K(I,G,Y){if(v_(I))I=W1(I);else if(R(I))I=W1(F1(I));else Y=G,G=_0(I),I={protocol:J};if(d(G))Y=G,G=null;if(G=Object.assign({maxRedirects:$.maxRedirects,maxBodyLength:$.maxBodyLength},I,G),G.nativeProtocols=z,!R(G.host)&&!R(G.hostname))G.hostname="::1";return N1.equal(G.protocol,J,"protocol mismatch"),t1("options",G),new T(G,Y)}function Z(I,G,Y){var W=Q.request(I,G,Y);return W.end(),W}Object.defineProperties(Q,{request:{value:K,configurable:!0,enumerable:!0,writable:!0},get:{value:Z,configurable:!0,enumerable:!0,writable:!0}})}),$},e1=function(){},F1=function(_){var $;if(V1)$=new m(_);else if($=_0(c.parse(_)),!R($.protocol))throw new Z1({input:_});return $},h_=function(_,$){return V1?new m(_,$):F1(c.resolve($,_))},_0=function(_){if(/^\[/.test(_.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(_.hostname))throw new Z1({input:_.href||_});if(/^\[/.test(_.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(_.host))throw new Z1({input:_.href||_});return _},W1=function(_,$){var z=$||{};for(var B of R_)z[B]=_[B];if(z.hostname.startsWith("["))z.hostname=z.hostname.slice(1,-1);if(z.port!=="")z.port=Number(z.port);return z.path=z.search?z.pathname+z.search:z.pathname,z},Y1=function(_,$){var z;for(var B in $)if(_.test(B))z=$[B],delete $[B];return z===null||typeof z==="undefined"?void 0:String(z).trim()},l=function(_,$,z){function B(J){Error.captureStackTrace(this,this.constructor),Object.assign(this,J||{}),this.code=_,this.message=this.cause?$+": "+this.cause.message:$}return B.prototype=new(z||Error),Object.defineProperties(B.prototype,{constructor:{value:B,enumerable:!1},name:{value:"Error ["+_+"]",enumerable:!1}}),B},M1=function(_,$){for(var z of A1)_.removeListener(z,O1[z]);_.on("error",e1),_.destroy($)},f_=function(_,$){N1(R(_)&&R($));var z=_.length-$.length-1;return z>0&&_[z]==="."&&_.endsWith($)},R=function(_){return typeof _==="string"||_ instanceof String},d=function(_){return typeof _==="function"},x_=function(_){return typeof _==="object"&&"length"in _},v_=function(_){return m&&_ instanceof m},c=import.meta.require("url"),m=c.URL,E_=import.meta.require("http"),P_=import.meta.require("https"),K1=import.meta.require("stream").Writable,N1=import.meta.require("assert"),t1=o1(),V1=!1;try{N1(new m)}catch(_){V1=_.code==="ERR_INVALID_URL"}var R_=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],A1=["abort","aborted","connect","error","socket","timeout"],O1=Object.create(null);A1.forEach(function(_){O1[_]=function($,z,B){this._redirectable.emit(_,$,z,B)}});var Z1=l("ERR_INVALID_URL","Invalid URL",TypeError),I1=l("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),k_=l("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",I1),b_=l("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),q_=l("ERR_STREAM_WRITE_AFTER_END","write after end"),y_=K1.prototype.destroy||e1;T.prototype=Object.create(K1.prototype);T.prototype.abort=function(){M1(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};T.prototype.destroy=function(_){return M1(this._currentRequest,_),y_.call(this,_),this};T.prototype.write=function(_,$,z){if(this._ending)throw new q_;if(!R(_)&&!x_(_))throw new TypeError("data should be a string, Buffer or Uint8Array");if(d($))z=$,$=null;if(_.length===0){if(z)z();return}if(this._requestBodyLength+_.length<=this._options.maxBodyLength)this._requestBodyLength+=_.length,this._requestBodyBuffers.push({data:_,encoding:$}),this._currentRequest.write(_,$,z);else this.emit("error",new b_),this.abort()};T.prototype.end=function(_,$,z){if(d(_))z=_,_=$=null;else if(d($))z=$,$=null;if(!_)this._ended=this._ending=!0,this._currentRequest.end(null,null,z);else{var B=this,J=this._currentRequest;this.write(_,$,function(){B._ended=!0,J.end(null,null,z)}),this._ending=!0}};T.prototype.setHeader=function(_,$){this._options.headers[_]=$,this._currentRequest.setHeader(_,$)};T.prototype.removeHeader=function(_){delete this._options.headers[_],this._currentRequest.removeHeader(_)};T.prototype.setTimeout=function(_,$){var z=this;function B(Q){Q.setTimeout(_),Q.removeListener("timeout",Q.destroy),Q.addListener("timeout",Q.destroy)}function J(Q){if(z._timeout)clearTimeout(z._timeout);z._timeout=setTimeout(function(){z.emit("timeout"),X()},_),B(Q)}function X(){if(z._timeout)clearTimeout(z._timeout),z._timeout=null;if(z.removeListener("abort",X),z.removeListener("error",X),z.removeListener("response",X),z.removeListener("close",X),$)z.removeListener("timeout",$);if(!z.socket)z._currentRequest.removeListener("socket",J)}if($)this.on("timeout",$);if(this.socket)J(this.socket);else this._currentRequest.once("socket",J);return this.on("socket",B),this.on("abort",X),this.on("error",X),this.on("response",X),this.on("close",X),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(_){T.prototype[_]=function($,z){return this._currentRequest[_]($,z)}});["aborted","connection","socket"].forEach(function(_){Object.defineProperty(T.prototype,_,{get:function(){return this._currentRequest[_]}})});T.prototype._sanitizeOptions=function(_){if(!_.headers)_.headers={};if(_.host){if(!_.hostname)_.hostname=_.host;delete _.host}if(!_.pathname&&_.path){var $=_.path.indexOf("?");if($<0)_.pathname=_.path;else _.pathname=_.path.substring(0,$),_.search=_.path.substring($)}};T.prototype._performRequest=function(){var _=this._options.protocol,$=this._options.nativeProtocols[_];if(!$)throw new TypeError("Unsupported protocol "+_);if(this._options.agents){var z=_.slice(0,-1);this._options.agent=this._options.agents[z]}var B=this._currentRequest=$.request(this._options,this._onNativeResponse);B._redirectable=this;for(var J of A1)B.on(J,O1[J]);if(this._currentUrl=/^\//.test(this._options.path)?c.format(this._options):this._options.path,this._isRedirect){var X=0,Q=this,K=this._requestBodyBuffers;(function Z(I){if(B===Q._currentRequest){if(I)Q.emit("error",I);else if(X<K.length){var G=K[X++];if(!B.finished)B.write(G.data,G.encoding,Z)}else if(Q._ended)B.end()}})()}};T.prototype._processResponse=function(_){var $=_.statusCode;if(this._options.trackRedirects)this._redirects.push({url:this._currentUrl,headers:_.headers,statusCode:$});var z=_.headers.location;if(!z||this._options.followRedirects===!1||$<300||$>=400){_.responseUrl=this._currentUrl,_.redirects=this._redirects,this.emit("response",_),this._requestBodyBuffers=[];return}if(M1(this._currentRequest),_.destroy(),++this._redirectCount>this._options.maxRedirects)throw new k_;var B,J=this._options.beforeRedirect;if(J)B=Object.assign({Host:_.req.getHeader("host")},this._options.headers);var X=this._options.method;if(($===301||$===302)&&this._options.method==="POST"||$===303&&!/^(?:GET|HEAD)$/.test(this._options.method))this._options.method="GET",this._requestBodyBuffers=[],Y1(/^content-/i,this._options.headers);var Q=Y1(/^host$/i,this._options.headers),K=F1(this._currentUrl),Z=Q||K.host,I=/^\w+:/.test(z)?this._currentUrl:c.format(Object.assign(K,{host:Z})),G=h_(z,I);if(t1("redirecting to",G.href),this._isRedirect=!0,W1(G,this._options),G.protocol!==K.protocol&&G.protocol!=="https:"||G.host!==Z&&!f_(G.host,Z))Y1(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers);if(d(J)){var Y={headers:_.headers,statusCode:$},W={url:I,method:X,headers:B};J(this._options,Y,W),this._sanitizeOptions(this._options)}this._performRequest()};L1.exports=r1({http:E_,https:P_});L1.exports.wrap=r1});var B0=O((L$,z0)=>{var u_=import.meta.require("http"),g_=import.meta.require("https"),p=y1(),$1=s(),m_=$0();p=Object.keys(p).map(function(_){return p[_]});var d_={http:u_,https:g_};/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, res, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */z0.exports={deleteLength:function _($,z,B){if(($.method==="DELETE"||$.method==="OPTIONS")&&!$.headers["content-length"])$.headers["content-length"]="0",delete $.headers["transfer-encoding"]},timeout:function _($,z,B){if(B.timeout)$.socket.setTimeout(B.timeout)},XHeaders:function _($,z,B){if(!B.xfwd)return;var J=$.isSpdy||$1.hasEncryptedConnection($),X={for:$.connection.remoteAddress||$.socket.remoteAddress,port:$1.getPort($),proto:J?"https":"http"};["for","port","proto"].forEach(function(Q){$.headers["x-forwarded-"+Q]=($.headers["x-forwarded-"+Q]||"")+($.headers["x-forwarded-"+Q]?",":"")+X[Q]}),$.headers["x-forwarded-host"]=$.headers["x-forwarded-host"]||$.headers.host||""},stream:function _($,z,B,J,X,Q){X.emit("start",$,z,B.target||B.forward);var K=B.followRedirects?m_:d_,Z=K.http,I=K.https;if(B.forward){var G=(B.forward.protocol==="https:"?I:Z).request($1.setupOutgoing(B.ssl||{},B,$,"forward")),Y=D(G,B.forward);if($.on("error",Y),G.on("error",Y),(B.buffer||$).pipe(G),!B.target)return z.end()}var W=(B.target.protocol==="https:"?I:Z).request($1.setupOutgoing(B.ssl||{},B,$));if(W.on("socket",function(V){if(X&&!W.getHeader("expect"))X.emit("proxyReq",W,$,z,B)}),B.proxyTimeout)W.setTimeout(B.proxyTimeout,function(){W.abort()});$.on("aborted",function(){W.abort()});var N=D(W,B.target);$.on("error",N),W.on("error",N);function D(V,A){return function E(C){if($.socket.destroyed&&C.code==="ECONNRESET")return X.emit("econnreset",C,$,z,A),V.abort();if(Q)Q(C,$,z,A);else X.emit("error",C,$,z,A)}}(B.buffer||$).pipe(W),W.on("response",function(V){if(X)X.emit("proxyRes",V,$,z);if(!z.headersSent&&!B.selfHandleResponse){for(var A=0;A<p.length;A++)if(p[A]($,z,V,B))break}if(!z.finished){if(V.on("end",function(){if(X)X.emit("end",$,z,V)}),!B.selfHandleResponse)V.pipe(z)}else if(X)X.emit("end",$,z,V)})}}});var J0=O((T$,G0)=>{var c_=import.meta.require("http"),l_=import.meta.require("https"),v=s();/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, socket, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */G0.exports={checkMethodAndHeader:function _($,z){if($.method!=="GET"||!$.headers.upgrade)return z.destroy(),!0;if($.headers.upgrade.toLowerCase()!=="websocket")return z.destroy(),!0},XHeaders:function _($,z,B){if(!B.xfwd)return;var J={for:$.connection.remoteAddress||$.socket.remoteAddress,port:v.getPort($),proto:v.hasEncryptedConnection($)?"wss":"ws"};["for","port","proto"].forEach(function(X){$.headers["x-forwarded-"+X]=($.headers["x-forwarded-"+X]||"")+($.headers["x-forwarded-"+X]?",":"")+J[X]})},stream:function _($,z,B,J,X,Q){var K=function(G,Y){return Object.keys(Y).reduce(function(W,N){var D=Y[N];if(!Array.isArray(D))return W.push(N+": "+D),W;for(var V=0;V<D.length;V++)W.push(N+": "+D[V]);return W},[G]).join("\r\n")+"\r\n\r\n"};if(v.setupSocket(z),J&&J.length)z.unshift(J);var Z=(v.isSSL.test(B.target.protocol)?l_:c_).request(v.setupOutgoing(B.ssl||{},B,$));if(X)X.emit("proxyReqWs",Z,$,z,B,J);return Z.on("error",I),Z.on("response",function(G){if(!G.upgrade)z.write(K("HTTP/"+G.httpVersion+" "+G.statusCode+" "+G.statusMessage,G.headers)),G.pipe(z)}),Z.on("upgrade",function(G,Y,W){if(Y.on("error",I),Y.on("end",function(){X.emit("close",G,Y,W)}),z.on("error",function(){Y.end()}),v.setupSocket(Y),W&&W.length)Y.unshift(W);z.write(K("HTTP/1.1 101 Switching Protocols",G.headers)),Y.pipe(z).pipe(Y),X.emit("open",Y),X.emit("proxySocket",Y)}),Z.end();function I(G){if(Q)Q(G,$,z);else X.emit("error",G,$,z);z.end()}}}});var K0=O((j$,W0)=>{var T1=function(_){return function($){return function(z,B){var J=_==="ws"?this.wsPasses:this.webPasses,X=[].slice.call(arguments),Q=X.length-1,K,Z;if(typeof X[Q]==="function")Z=X[Q],Q--;var I=$;if(!(X[Q]instanceof Buffer)&&X[Q]!==B)I=X0({},$),X0(I,X[Q]),Q--;if(X[Q]instanceof Buffer)K=X[Q];if(["target","forward"].forEach(function(Y){if(typeof I[Y]==="string")I[Y]=p_(I[Y])}),!I.target&&!I.forward)return this.emit("error",new Error("Must provide a proper URL as target"));for(var G=0;G<J.length;G++)if(J[G](z,B,I,K,this,Z))break}}},k=function(_){I0.call(this),_=_||{},_.prependPath=_.prependPath===!1?!1:!0,this.web=this.proxyRequest=T1("web")(_),this.ws=this.proxyWebsocketRequest=T1("ws")(_),this.options=_,this.webPasses=Object.keys(Q0).map(function($){return Q0[$]}),this.wsPasses=Object.keys(Y0).map(function($){return Y0[$]}),this.on("error",this.onError,this)},Z0=j$,X0=import.meta.require("util")._extend,p_=import.meta.require("url").parse,I0=C1(),i_=import.meta.require("http"),n_=import.meta.require("https"),Q0=B0(),Y0=J0();Z0.Server=k;Z0.createRightProxy=T1;import.meta.require("util").inherits(k,I0);k.prototype.onError=function(_){if(this.listeners("error").length===1)throw _};k.prototype.listen=function(_,$){var z=this,B=function(J,X){z.web(J,X)};if(this._server=this.options.ssl?n_.createServer(this.options.ssl,B):i_.createServer(B),this.options.ws)this._server.on("upgrade",function(J,X,Q){z.ws(J,X,Q)});return this._server.listen(_,$),this};k.prototype.close=function(_){var $=this;if(this._server)this._server.close(z);function z(){if($._server=null,_)_.apply(null,arguments)}};k.prototype.before=function(_,$,z){if(_!=="ws"&&_!=="web")throw new Error("type must be `web` or `ws`");var B=_==="ws"?this.wsPasses:this.webPasses,J=!1;if(B.forEach(function(X,Q){if(X.name===$)J=Q}),J===!1)throw new Error("No such pass");B.splice(J,0,z)};k.prototype.after=function(_,$,z){if(_!=="ws"&&_!=="web")throw new Error("type must be `web` or `ws`");var B=_==="ws"?this.wsPasses:this.webPasses,J=!1;if(B.forEach(function(X,Q){if(X.name===$)J=Q}),J===!1)throw new Error("No such pass");B.splice(J++,0,z)}});var V0=O((U$,N0)=>{var j1=function(_){return new i(_)},i=K0().Server;i.createProxyServer=j1;i.createServer=j1;i.createProxy=j1;N0.exports=i});var O0=O((H$,A0)=>{/*!
 * Caron dimonio, con occhi di bragia
 * loro accennando, tutte le raccoglie;
 * batte col remo qualunque sâ€™adagia 
 *
 * Charon the demon, with the eyes of glede,
 * Beckoning to them, collects them all together,
 * Beats with his oar whoever lags behind
 *          
 *          Dante - The Divine Comedy (Canto III)
 */A0.exports=V0()});var L0=x0(O0(),1);import*as M0 from"vite";import s_ from"path";import a_ from"fs-extra";import b from"path";var j={cyan:(..._)=>`\x1B[36m${_.join(" ")}\x1B[0m`,red:(..._)=>`\x1B[31m${_.join(" ")}\x1B[0m`,yellow:(..._)=>`\x1B[33m${_.join(" ")}\x1B[0m`,green:(..._)=>`\x1B[32m${_.join(" ")}\x1B[0m`,blue:(..._)=>`\x1B[34m${_.join(" ")}\x1B[0m`,magenta:(..._)=>`\x1B[35m${_.join(" ")}\x1B[0m`,cyanBright:(..._)=>`\x1B[96m${_.join(" ")}\x1B[0m`,redBright:(..._)=>`\x1B[91m${_.join(" ")}\x1B[0m`,yellowBright:(..._)=>`\x1B[93m${_.join(" ")}\x1B[0m`,greenBright:(..._)=>`\x1B[92m${_.join(" ")}\x1B[0m`,blueBright:(..._)=>`\x1B[94m${_.join(" ")}\x1B[0m`,magentaBright:(..._)=>`\x1B[95m${_.join(" ")}\x1B[0m`,whiteBright:(..._)=>`\x1B[97m${_.join(" ")}\x1B[0m`,gray:(..._)=>`\x1B[90m${_.join(" ")}\x1B[0m`,grey:(..._)=>`\x1B[90m${_.join(" ")}\x1B[0m`,white:(..._)=>`\x1B[37m${_.join(" ")}\x1B[0m`,black:(..._)=>`\x1B[30m${_.join(" ")}\x1B[0m`,blackBright:(..._)=>`\x1B[90m${_.join(" ")}\x1B[0m`,bgCyan:(..._)=>`\x1B[46m${_.join(" ")}\x1B[0m`,bgRed:(..._)=>`\x1B[41m${_.join(" ")}\x1B[0m`,bgYellow:(..._)=>`\x1B[43m${_.join(" ")}\x1B[0m`,bgGreen:(..._)=>`\x1B[42m${_.join(" ")}\x1B[0m`,bgBlue:(..._)=>`\x1B[44m${_.join(" ")}\x1B[0m`,bgMagenta:(..._)=>`\x1B[45m${_.join(" ")}\x1B[0m`,bgCyanBright:(..._)=>`\x1B[106m${_.join(" ")}\x1B[0m`,bgRedBright:(..._)=>`\x1B[101m${_.join(" ")}\x1B[0m`,bgYellowBright:(..._)=>`\x1B[103m${_.join(" ")}\x1B[0m`,bgGreenBright:(..._)=>`\x1B[102m${_.join(" ")}\x1B[0m`,bgBlueBright:(..._)=>`\x1B[104m${_.join(" ")}\x1B[0m`,bgMagentaBright:(..._)=>`\x1B[105m${_.join(" ")}\x1B[0m`,cyanBrightBold:(..._)=>`\x1B[96m\x1B[1m${_.join(" ")}\x1B[0m`,redBrightBold:(..._)=>`\x1B[91m\x1B[1m${_.join(" ")}\x1B[0m`,yellowBrightBold:(..._)=>`\x1B[93m\x1B[1m${_.join(" ")}\x1B[0m`,greenBrightBold:(..._)=>`\x1B[92m\x1B[1m${_.join(" ")}\x1B[0m`,blueBrightBold:(..._)=>`\x1B[94m\x1B[1m${_.join(" ")}\x1B[0m`,magentaBrightBold:(..._)=>`\x1B[95m\x1B[1m${_.join(" ")}\x1B[0m`,whiteBrightBold:(..._)=>`\x1B[97m\x1B[1m${_.join(" ")}\x1B[0m`,grayBrightBold:(..._)=>`\x1B[90m\x1B[1m${_.join(" ")}\x1B[0m`,greyBrightBold:(..._)=>`\x1B[90m\x1B[1m${_.join(" ")}\x1B[0m`,whiteBold:(..._)=>`\x1B[37m\x1B[1m${_.join(" ")}\x1B[0m`,blackBold:(..._)=>`\x1B[30m\x1B[1m${_.join(" ")}\x1B[0m`,blackBrightBold:(..._)=>`\x1B[90m\x1B[1m${_.join(" ")}\x1B[0m`};async function F0(){console.warn("Building Vite config using base:",j.yellowBrightBold(b.resolve("vite.config.ts")));let _=await(await import(b.resolve("vite.config.ts"))).default();const $=await a_.readJSONSync(b.resolve("tsconfig.json"));return _={..._,logLevel:"info",mode:"development",root:b.resolve("app/client"),clearScreen:!0,build:{..._.build,cssCodeSplit:!0,outDir:b.resolve("build/client"),sourcemap:!0,rollupOptions:{output:{manualChunks:void 0}},watch:{..._.build?.watch,include:[...(Array.isArray(_.build?.watch?.include)?_.build?.watch?.include:[_.build?.watch?.include])||[],...$?.include?.map((z)=>b.resolve(z))||[],"tsconfig.json"].filter(Boolean)},emptyOutDir:!0},resolve:{alias:{config:b.resolve("app/config")}}},_}async function b$(_,$,z,B=[]){console.warn(j.bgMagentaBright("Vite: Checking environment...","development")),console.warn(j.bgMagentaBright("Starting Vite proxy for HMR..."));let J=Number(process.env.VITE_PORT||25555);if(isNaN(J))J=25555;const X=L0.default.createProxyServer({target:{host:"localhost",port:J}});_.get("*",...B,(I,G)=>X.web(I,G)),$.on("upgrade",(I,G,Y)=>{if(I.url=="/")X.ws(I,G,Y)});const Q=await F0(),K={root:s_.resolve("app/client"),server:{port:J}};(await M0.createServer({...Q,...K})).listen()}import*as P0 from"@vitejs/plugin-react";import $$ from"vite-plugin-css-injected-by-js";import z$ from"path";import B$ from"vite-plugin-checker";import o_ from"fs";import T0 from"path";function j0(){return{name:"vite-base64-inline-assets-plugin",enforce:"pre",load(_){const $=T0.resolve(_);let z;switch(T0.extname($)){case".woff":z="font/woff";break;case".woff2":z="font/woff2";break;case".ttf":z="font/ttf";break;case".png":z="image/png";break;case".jpg":case".jpeg":z="image/jpeg";break;case".gif":z="image/gif";break;case".svg":z="image/svg+xml";break}if(z){const J=o_.readFileSync($).toString("base64");return`export default "data:${z};base64,${J}"`}}}}import U from"fs-extra";import H from"path";import U0 from"fs";import H0 from"path";function w0(_){return{name:"vite-devops-string-replace-plugin",enforce:"pre",load($){const z=H0.resolve($),B=[".ts",".js",".tsx",".jsx"];if(U0.existsSync(z)&&B.includes(H0.extname(z))&&!z.includes("node_modules")&&!z.includes("\0")){let J=U0.readFileSync(z,{encoding:"utf-8"});return _.forEach((X)=>{J=J.replace(X.from,X.to)}),J}}}}function D0(_){const $=process.env.PROJECT_ROOT||".",z=H.resolve($,"app/config");if(!U.existsSync(z)){console.warn(`viteDevopsAppConfigPlugin: ${j.cyanBrightBold("No app/config folder found.")}`);return}try{const B=U.readdirSync(z).filter((G)=>{return U.statSync(H.join(z,G)).isDirectory()}),J=B.map((G)=>H.join(z,G)),Q=B.map((G,Y)=>{if(!_)if(U.existsSync(H.join(J[Y],`${G}.local`))||U.existsSync(H.join(J[Y],`${G}.local.js`))||U.existsSync(H.join(J[Y],`${G}.local.ts`))||U.existsSync(H.join(J[Y],`${G}.local.tsx`))||U.existsSync(H.join(J[Y],`${G}.local.jsx`)))return[{from:`"config/${G}/${G}"`,to:`"config/${G}/${G}.local"`},{from:`"config/${G}/${G}.js"`,to:`"config/${G}/${G}.local.js"`},{from:`"config/${G}/${G}.ts"`,to:`"config/${G}/${G}.local.ts"`}];else return[];return[{from:`"config/${G}/${G}"`,to:`"config/${G}/${G}.${_}"`},{from:`"config/${G}/${G}.js"`,to:`"config/${G}/${G}.${_}.js"`},{from:`"config/${G}/${G}.ts"`,to:`"config/${G}/${G}.${_}.ts"`}]}).reduce((G,Y)=>G.concat(Y),[]),I=[...!_&&(U.existsSync(H.join(z,"env.local"))||U.existsSync(H.join(z,"env.local.js"))||U.existsSync(H.join(z,"env.local.ts"))||U.existsSync(H.join(z,"env.local.tsx"))||U.existsSync(H.join(z,"env.local.jsx")))?[{from:'"config/env"',to:'"config/env.local"'},{from:'"config/env.js"',to:'"config/env.local.js"'},{from:'"config/env.ts"',to:'"config/env.local.ts"'}]:_?[{from:'"config/env"',to:`"config/env.${_}"`},{from:'"config/env.js"',to:`"config/env.${_}.js"`},{from:'"config/env.ts"',to:`"config/env.${_}.ts"`}]:[],...Q];if(I.length>0)console.warn(`

  ${j.yellowBrightBold("Using the following mappings for app config:")}

  \t${j.cyanBrightBold(I.map((G)=>`\n  ${G.from} => ${G.to}`).join("\n\t"))}

      `);return w0(I)}catch(B){console.error(B),console.error(j.redBrightBold(`
      App config plugin failed to load. The default config paths will be used
      and any specific environment requested will be ignored.
    `))}}import C0 from"fs";import U1 from"path";var t_=function(_,$,z,B){if($<0){if($=_.length+$,$<0)$=0}return _.slice(0,$)+(B||"")+_.slice($+z)},r_=function(_){let $=!1,z=!1;const B=[];let J={start:-1,stop:-1},X={start:-1,stop:-1};for(let Q=0,K=_.length;Q<K;++Q){const Z=_[Q],I=_[Q+1];switch(Z){case"/":switch(I){case"*":if(!z&&!$)J.start=Q,$=!0,Q++;break;case"/":if(!$&&!z)X.start=Q,z=!0,Q++;break}break;case"*":if(I==="/"){if($)J.stop=Q+2,B.push(J),J={start:-1,stop:-1},$=!1,Q++}break;case"\n":case"\r":if(z)X.stop=Q,B.push(X),X={start:-1,stop:-1},z=!1;break}}return B.reverse(),B.forEach((Q)=>{_=t_(_,Q.start,Q.stop-Q.start)}),_},e_=function(_){return _=_.replace(/\t/g," "),_=_.replace(/  +/gm," "),_=_.replace(/ (\n|\r)+/gm,"\n"),_=_.replace(/(\n|\r)(\n|\r)+/gm,"\n"),_=_.replace(/(\n|\r) +/gm,"\n"),_.trim()},_$=function(_){const $=r_(_),z=e_($);return S0(z)},S0=function(_){const $=JSON.stringify(_).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\$\{/gm,"$\\{");return`export default \`${$.slice(1,$.length-1)}\`;`};function E0(){return{name:"vite-devops-shader-compression-plugin",enforce:"pre",load(_){const $=U1.resolve(_),z=[".vs",".fs"];if(C0.existsSync($)&&z.includes(U1.extname($))&&!$.includes("node_modules")&&!$.includes("\0")){const B=C0.readFileSync($,{encoding:"utf-8"});return console.warn("Not compressing shader:",j.cyanBrightBold(U1.basename($))),S0(B)}}}}async function $9(_){const $={babel:{parserOpts:{plugins:["decorators-legacy","classProperties"]}}},z=process.env.ENV_MODE;return[E0(),D0(z),(P0?.default||P0?.default?.default)?.(_?.react?_?.react($):$),j0(),$$(),B$({typescript:{root:z$.resolve(".")}})].filter(Boolean)}export{w0 as viteDevopsStringReplacePlugin,E0 as viteDevopsShaderCompressionPlugin,D0 as viteDevopsAppConfigPlugin,j0 as viteBase64InlineAssetsPlugin,b$ as useVite,$9 as useDevopsPlugins};
