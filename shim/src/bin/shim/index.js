import{createRequire as u0}from"node:module";var h0=Object.create;var{getPrototypeOf:f0,defineProperty:P1,getOwnPropertyNames:g0}=Object;var m0=Object.prototype.hasOwnProperty;var v0=($,B,j)=>{j=$!=null?h0(f0($)):{};const G=B||!$||!$.__esModule?P1(j,"default",{value:$,enumerable:!0}):j;for(let Y of g0($))if(!m0.call(G,Y))P1(G,Y,{get:()=>$[Y],enumerable:!0});return G};var F=($,B)=>()=>(B||$((B={exports:{}}).exports,B),B.exports);var N=u0(import.meta.url);var C1=F((KB,Q1)=>{function u(){}function c0($,B,j){this.fn=$,this.context=B,this.once=j||!1}function S1($,B,j,G,Y){if(typeof j!=="function")throw new TypeError("The listener must be a function");var Z=new c0(j,G||$,Y),z=H?H+B:B;if(!$._events[z])$._events[z]=Z,$._eventsCount++;else if(!$._events[z].fn)$._events[z].push(Z);else $._events[z]=[$._events[z],Z];return $}function s($,B){if(--$._eventsCount===0)$._events=new u;else delete $._events[B]}function U(){this._events=new u,this._eventsCount=0}var d0=Object.prototype.hasOwnProperty,H="~";if(Object.create){if(u.prototype=Object.create(null),!new u().__proto__)H=!1}U.prototype.eventNames=function $(){var B=[],j,G;if(this._eventsCount===0)return B;for(G in j=this._events)if(d0.call(j,G))B.push(H?G.slice(1):G);if(Object.getOwnPropertySymbols)return B.concat(Object.getOwnPropertySymbols(j));return B};U.prototype.listeners=function $(B){var j=H?H+B:B,G=this._events[j];if(!G)return[];if(G.fn)return[G.fn];for(var Y=0,Z=G.length,z=new Array(Z);Y<Z;Y++)z[Y]=G[Y].fn;return z};U.prototype.listenerCount=function $(B){var j=H?H+B:B,G=this._events[j];if(!G)return 0;if(G.fn)return 1;return G.length};U.prototype.emit=function $(B,j,G,Y,Z,z){var W=H?H+B:B;if(!this._events[W])return!1;var _=this._events[W],K=arguments.length,Q,J;if(_.fn){if(_.once)this.removeListener(B,_.fn,void 0,!0);switch(K){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,j),!0;case 3:return _.fn.call(_.context,j,G),!0;case 4:return _.fn.call(_.context,j,G,Y),!0;case 5:return _.fn.call(_.context,j,G,Y,Z),!0;case 6:return _.fn.call(_.context,j,G,Y,Z,z),!0}for(J=1,Q=new Array(K-1);J<K;J++)Q[J-1]=arguments[J];_.fn.apply(_.context,Q)}else{var X=_.length,I;for(J=0;J<X;J++){if(_[J].once)this.removeListener(B,_[J].fn,void 0,!0);switch(K){case 1:_[J].fn.call(_[J].context);break;case 2:_[J].fn.call(_[J].context,j);break;case 3:_[J].fn.call(_[J].context,j,G);break;case 4:_[J].fn.call(_[J].context,j,G,Y);break;default:if(!Q)for(I=1,Q=new Array(K-1);I<K;I++)Q[I-1]=arguments[I];_[J].fn.apply(_[J].context,Q)}}}return!0};U.prototype.on=function $(B,j,G){return S1(this,B,j,G,!1)};U.prototype.once=function $(B,j,G){return S1(this,B,j,G,!0)};U.prototype.removeListener=function $(B,j,G,Y){var Z=H?H+B:B;if(!this._events[Z])return this;if(!j)return s(this,Z),this;var z=this._events[Z];if(z.fn){if(z.fn===j&&(!Y||z.once)&&(!G||z.context===G))s(this,Z)}else{for(var W=0,_=[],K=z.length;W<K;W++)if(z[W].fn!==j||Y&&!z[W].once||G&&z[W].context!==G)_.push(z[W]);if(_.length)this._events[Z]=_.length===1?_[0]:_;else s(this,Z)}return this};U.prototype.removeAllListeners=function $(B){var j;if(B){if(j=H?H+B:B,this._events[j])s(this,j)}else this._events=new u,this._eventsCount=0;return this};U.prototype.off=U.prototype.removeListener;U.prototype.addListener=U.prototype.on;U.prefixed=H;U.EventEmitter=U;if(typeof Q1!=="undefined")Q1.exports=U});var b1=F((XB,E1)=>{E1.exports=function $(B,j){if(j=j.split(":")[0],B=+B,!B)return!1;switch(j){case"http":case"ws":return B!==80;case"https":case"wss":return B!==443;case"ftp":return B!==21;case"gopher":return B!==70;case"file":return!1}return B!==0}});var t=F((R1)=>{function n0($){return!!~$.indexOf(":")}var C=R1,l0=N("url"),x1=N("util")._extend,p0=b1(),i0=/(^|,)\s*upgrade\s*($|,)/i,Y1=/^https|wss/;C.isSSL=Y1;C.setupOutgoing=function($,B,j,G){if($.port=B[G||"target"].port||(Y1.test(B[G||"target"].protocol)?443:80),["host","hostname","socketPath","pfx","key","passphrase","cert","ca","ciphers","secureProtocol"].forEach(function(W){$[W]=B[G||"target"][W]}),$.method=B.method||j.method,$.headers=x1({},j.headers),B.headers)x1($.headers,B.headers);if(B.auth)$.auth=B.auth;if(B.ca)$.ca=B.ca;if(Y1.test(B[G||"target"].protocol))$.rejectUnauthorized=typeof B.secure==="undefined"?!0:B.secure;if($.agent=B.agent||!1,$.localAddress=B.localAddress,!$.agent){if($.headers=$.headers||{},typeof $.headers.connection!=="string"||!i0.test($.headers.connection))$.headers.connection="close"}var Y=B[G||"target"],Z=Y&&B.prependPath!==!1?Y.path||"":"",z=!B.toProxy?l0.parse(j.url).path||"":j.url;if(z=!B.ignorePath?z:"",$.path=C.urlJoin(Z,z),B.changeOrigin)$.headers.host=p0($.port,B[G||"target"].protocol)&&!n0($.host)?$.host+":"+$.port:$.host;return $};C.setupSocket=function($){return $.setTimeout(0),$.setNoDelay(!0),$.setKeepAlive(!0,0),$};C.getPort=function($){var B=$.headers.host?$.headers.host.match(/:(\d+)/):"";return B?B[1]:C.hasEncryptedConnection($)?"443":"80"};C.hasEncryptedConnection=function($){return Boolean($.connection.encrypted||$.connection.pair)};C.urlJoin=function(){var $=Array.prototype.slice.call(arguments),B=$.length-1,j=$[B],G=j.split("?"),Y;return $[B]=G.shift(),Y=[$.filter(Boolean).join("/").replace(/\/+/g,"/").replace("http:/","http://").replace("https:/","https://")],Y.push.apply(Y,G),Y.join("?")};C.rewriteCookieProperty=function $(B,j,G){if(Array.isArray(B))return B.map(function(Y){return $(Y,j,G)});return B.replace(new RegExp("(;\\s*"+G+"=)([^;]+)","i"),function(Y,Z,z){var W;if(z in j)W=j[z];else if("*"in j)W=j["*"];else return Y;if(W)return Z+W;else return""})}});var h1=F((IB,y1)=>{var k1=N("url"),q1=t(),a0=/^201|30(1|2|7|8)$/;/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, res, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */y1.exports={removeChunked:function $(B,j,G){if(B.httpVersion==="1.0")delete G.headers["transfer-encoding"]},setConnection:function $(B,j,G){if(B.httpVersion==="1.0")G.headers.connection=B.headers.connection||"close";else if(B.httpVersion!=="2.0"&&!G.headers.connection)G.headers.connection=B.headers.connection||"keep-alive"},setRedirectHostRewrite:function $(B,j,G,Y){if((Y.hostRewrite||Y.autoRewrite||Y.protocolRewrite)&&G.headers.location&&a0.test(G.statusCode)){var Z=k1.parse(Y.target),z=k1.parse(G.headers.location);if(Z.host!=z.host)return;if(Y.hostRewrite)z.host=Y.hostRewrite;else if(Y.autoRewrite)z.host=B.headers.host;if(Y.protocolRewrite)z.protocol=Y.protocolRewrite;G.headers.location=z.format()}},writeHeaders:function $(B,j,G,Y){var{cookieDomainRewrite:Z,cookiePathRewrite:z,preserveHeaderKeyCase:W}=Y,_,K=function(X,I){if(I==null)return;if(Z&&X.toLowerCase()==="set-cookie")I=q1.rewriteCookieProperty(I,Z,"domain");if(z&&X.toLowerCase()==="set-cookie")I=q1.rewriteCookieProperty(I,z,"path");j.setHeader(String(X).trim(),I)};if(typeof Z==="string")Z={"*":Z};if(typeof z==="string")z={"*":z};if(W&&G.rawHeaders!=null){_={};for(var Q=0;Q<G.rawHeaders.length;Q+=2){var J=G.rawHeaders[Q];_[J.toLowerCase()]=J}}Object.keys(G.headers).forEach(function(X){var I=G.headers[X];if(W&&_)X=_[X]||X;K(X,I)})},writeStatusCode:function $(B,j,G){if(G.statusMessage)j.statusCode=G.statusCode,j.statusMessage=G.statusMessage;else j.statusCode=G.statusCode}}});var g1=F((VB,f1)=>{function o0($){if($=String($),$.length>100)return;var B=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(!B)return;var j=parseFloat(B[1]),G=(B[2]||"ms").toLowerCase();switch(G){case"years":case"year":case"yrs":case"yr":case"y":return j*t0;case"weeks":case"week":case"w":return j*s0;case"days":case"day":case"d":return j*x;case"hours":case"hour":case"hrs":case"hr":case"h":return j*m;case"minutes":case"minute":case"mins":case"min":case"m":return j*g;case"seconds":case"second":case"secs":case"sec":case"s":return j*f;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return j;default:return}}function r0($){var B=Math.abs($);if(B>=x)return Math.round($/x)+"d";if(B>=m)return Math.round($/m)+"h";if(B>=g)return Math.round($/g)+"m";if(B>=f)return Math.round($/f)+"s";return $+"ms"}function e0($){var B=Math.abs($);if(B>=x)return o($,B,x,"day");if(B>=m)return o($,B,m,"hour");if(B>=g)return o($,B,g,"minute");if(B>=f)return o($,B,f,"second");return $+" ms"}function o($,B,j,G){var Y=B>=j*1.5;return Math.round($/j)+" "+G+(Y?"s":"")}var f=1000,g=f*60,m=g*60,x=m*24,s0=x*7,t0=x*365.25;f1.exports=function($,B){B=B||{};var j=typeof $;if(j==="string"&&$.length>0)return o0($);else if(j==="number"&&isFinite($))return B.long?e0($):r0($);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify($))}});var Z1=F((NB,m1)=>{function $$($){j.debug=j,j.default=j,j.coerce=_,j.disable=Z,j.enable=Y,j.enabled=z,j.humanize=g1(),j.destroy=K,Object.keys($).forEach((Q)=>{j[Q]=$[Q]}),j.names=[],j.skips=[],j.formatters={};function B(Q){let J=0;for(let X=0;X<Q.length;X++)J=(J<<5)-J+Q.charCodeAt(X),J|=0;return j.colors[Math.abs(J)%j.colors.length]}j.selectColor=B;function j(Q){let J,X=null,I,P;function V(...A){if(!V.enabled)return;const E=V,S=Number(new Date),k0=S-(J||S);if(E.diff=k0,E.prev=J,E.curr=S,J=S,A[0]=j.coerce(A[0]),typeof A[0]!=="string")A.unshift("%O");let a=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,(G1,q0)=>{if(G1==="%%")return"%";a++;const w1=j.formatters[q0];if(typeof w1==="function"){const y0=A[a];G1=w1.call(E,y0),A.splice(a,1),a--}return G1}),j.formatArgs.call(E,A),(E.log||j.log).apply(E,A)}if(V.namespace=Q,V.useColors=j.useColors(),V.color=j.selectColor(Q),V.extend=G,V.destroy=j.destroy,Object.defineProperty(V,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(X!==null)return X;if(I!==j.namespaces)I=j.namespaces,P=j.enabled(Q);return P},set:(A)=>{X=A}}),typeof j.init==="function")j.init(V);return V}function G(Q,J){const X=j(this.namespace+(typeof J==="undefined"?":":J)+Q);return X.log=this.log,X}function Y(Q){j.save(Q),j.namespaces=Q,j.names=[],j.skips=[];let J;const X=(typeof Q==="string"?Q:"").split(/[\s,]+/),I=X.length;for(J=0;J<I;J++){if(!X[J])continue;if(Q=X[J].replace(/\*/g,".*?"),Q[0]==="-")j.skips.push(new RegExp("^"+Q.slice(1)+"$"));else j.names.push(new RegExp("^"+Q+"$"))}}function Z(){const Q=[...j.names.map(W),...j.skips.map(W).map((J)=>"-"+J)].join(",");return j.enable(""),Q}function z(Q){if(Q[Q.length-1]==="*")return!0;let J,X;for(J=0,X=j.skips.length;J<X;J++)if(j.skips[J].test(Q))return!1;for(J=0,X=j.names.length;J<X;J++)if(j.names[J].test(Q))return!0;return!1}function W(Q){return Q.toString().substring(2,Q.toString().length-2).replace(/\.\*\?$/,"*")}function _(Q){if(Q instanceof Error)return Q.stack||Q.message;return Q}function K(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return j.enable(j.load()),j}m1.exports=$$});var u1=F((v1,e)=>{function B$(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let $;return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&($=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt($[1],10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function j$($){if($[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+$[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const B="color: "+this.color;$.splice(1,0,B,"color: inherit");let j=0,G=0;$[0].replace(/%[a-zA-Z%]/g,(Y)=>{if(Y==="%%")return;if(j++,Y==="%c")G=j}),$.splice(G,0,B)}function G$($){try{if($)v1.storage.setItem("debug",$);else v1.storage.removeItem("debug")}catch(B){}}function Q$(){let $;try{$=v1.storage.getItem("debug")}catch(B){}if(!$&&typeof process!=="undefined"&&"env"in process)$=process.env.DEBUG;return $}function Y$(){try{return localStorage}catch($){}}v1.formatArgs=j$;v1.save=G$;v1.load=Q$;v1.useColors=B$;v1.storage=Y$();v1.destroy=(()=>{let $=!1;return()=>{if(!$)$=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();v1.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];v1.log=console.debug||console.log||(()=>{});e.exports=Z1()(v1);var{formatters:Z$}=e.exports;Z$.j=function($){try{return JSON.stringify($)}catch(B){return"[UnexpectedJSONParseError]: "+B.message}}});var c1=F((FB,d1)=>{d1.exports=($,B=process.argv)=>{const j=$.startsWith("-")?"":$.length===1?"-":"--",G=B.indexOf(j+$),Y=B.indexOf("--");return G!==-1&&(Y===-1||G<Y)}});var i1=F((MB,p1)=>{function z1($){if($===0)return!1;return{level:$,hasBasic:!0,has256:$>=2,has16m:$>=3}}function J1($,B){if(b===0)return 0;if(w("color=16m")||w("color=full")||w("color=truecolor"))return 3;if(w("color=256"))return 2;if($&&!B&&b===void 0)return 0;const j=b||0;if(M.TERM==="dumb")return j;if(process.platform==="win32"){const G=V$.release().split(".");if(Number(G[0])>=10&&Number(G[2])>=10586)return Number(G[2])>=14931?3:2;return 1}if("CI"in M){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((G)=>(G in M))||M.CI_NAME==="codeship")return 1;return j}if("TEAMCITY_VERSION"in M)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(M.TEAMCITY_VERSION)?1:0;if(M.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in M){const G=parseInt((M.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(M.TERM_PROGRAM){case"iTerm.app":return G>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(M.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(M.TERM))return 1;if("COLORTERM"in M)return 1;return j}function N$($){const B=J1($,$&&$.isTTY);return z1(B)}var V$=N("os"),l1=N("tty"),w=c1(),{env:M}=process,b;if(w("no-color")||w("no-colors")||w("color=false")||w("color=never"))b=0;else if(w("color")||w("colors")||w("color=true")||w("color=always"))b=1;if("FORCE_COLOR"in M)if(M.FORCE_COLOR==="true")b=1;else if(M.FORCE_COLOR==="false")b=0;else b=M.FORCE_COLOR.length===0?1:Math.min(parseInt(M.FORCE_COLOR,10),3);p1.exports={supportsColor:N$,stdout:z1(J1(!0,l1.isatty(1))),stderr:z1(J1(!0,l1.isatty(2)))}});var t1=F((a1,B1)=>{function F$(){return"colors"in a1.inspectOpts?Boolean(a1.inspectOpts.colors):A$.isatty(process.stderr.fd)}function M$($){const{namespace:B,useColors:j}=this;if(j){const G=this.color,Y="\x1B[3"+(G<8?G:"8;5;"+G),Z=`  ${Y};1m${B} \x1B[0m`;$[0]=Z+$[0].split("\n").join("\n"+Z),$.push(Y+"m+"+B1.exports.humanize(this.diff)+"\x1B[0m")}else $[0]=O$()+B+" "+$[0]}function O$(){if(a1.inspectOpts.hideDate)return"";return new Date().toISOString()+" "}function L$(...$){return process.stderr.write($1.formatWithOptions(a1.inspectOpts,...$)+"\n")}function U$($){if($)process.env.DEBUG=$;else delete process.env.DEBUG}function H$(){return process.env.DEBUG}function T$($){$.inspectOpts={};const B=Object.keys(a1.inspectOpts);for(let j=0;j<B.length;j++)$.inspectOpts[B[j]]=a1.inspectOpts[B[j]]}var A$=N("tty"),$1=N("util");a1.init=T$;a1.log=L$;a1.formatArgs=M$;a1.save=U$;a1.load=H$;a1.useColors=F$;a1.destroy=$1.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");a1.colors=[6,2,3,4,5,1];try{const $=i1();if($&&($.stderr||$).level>=2)a1.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}catch($){}a1.inspectOpts=Object.keys(process.env).filter(($)=>{return/^debug_/i.test($)}).reduce(($,B)=>{const j=B.substring(6).toLowerCase().replace(/_([a-z])/g,(Y,Z)=>{return Z.toUpperCase()});let G=process.env[B];if(/^(yes|on|true|enabled)$/i.test(G))G=!0;else if(/^(no|off|false|disabled)$/i.test(G))G=!1;else if(G==="null")G=null;else G=Number(G);return $[j]=G,$},{});B1.exports=Z1()(a1);var{formatters:n1}=B1.exports;n1.o=function($){return this.inspectOpts.colors=this.useColors,$1.inspect($,this.inspectOpts).split("\n").map((B)=>B.trim()).join(" ")};n1.O=function($){return this.inspectOpts.colors=this.useColors,$1.inspect($,this.inspectOpts)}});var o1=F((LB,_1)=>{if(typeof process==="undefined"||process.type==="renderer"||!1||process.__nwjs)_1.exports=u1();else _1.exports=t1()});var e1=F((UB,r1)=>{var d;r1.exports=function(){if(!d){try{d=o1()("follow-redirects")}catch($){}if(typeof d!=="function")d=function(){}}d.apply(null,arguments)}});var Q0=F((HB,U1)=>{function T($,B){if(V1.call(this),this._sanitizeOptions($),this._options=$,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],B)this.on("response",B);var j=this;this._onNativeResponse=function(G){try{j._processResponse(G)}catch(Y){j.emit("error",Y instanceof W1?Y:new W1({cause:Y}))}},this._performRequest()}function B0($){var B={maxRedirects:21,maxBodyLength:10485760},j={};return Object.keys($).forEach(function(G){var Y=G+":",Z=j[Y]=$[G],z=B[G]=Object.create(Z);function W(K,Q,J){if(u$(K))K=I1(K);else if(k(K))K=I1(O1(K));else J=Q,Q=G0(K),K={protocol:Y};if(q(Q))J=Q,Q=null;if(Q=Object.assign({maxRedirects:B.maxRedirects,maxBodyLength:B.maxBodyLength},K,Q),Q.nativeProtocols=j,!k(Q.host)&&!k(Q.hostname))Q.hostname="::1";return N1.equal(Q.protocol,Y,"protocol mismatch"),$0("options",Q),new T(Q,J)}function _(K,Q,J){var X=z.request(K,Q,J);return X.end(),X}Object.defineProperties(z,{request:{value:W,configurable:!0,enumerable:!0,writable:!0},get:{value:_,configurable:!0,enumerable:!0,writable:!0}})}),B}function j0(){}function O1($){var B;if(A1)B=new c($);else if(B=G0(l.parse($)),!k(B.protocol))throw new X1({input:$});return B}function g$($,B){return A1?new c($,B):O1(l.resolve(B,$))}function G0($){if(/^\[/.test($.hostname)&&!/^\[[:0-9a-f]+\]$/i.test($.hostname))throw new X1({input:$.href||$});if(/^\[/.test($.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test($.host))throw new X1({input:$.href||$});return $}function I1($,B){var j=B||{};for(var G of k$)j[G]=$[G];if(j.hostname.startsWith("["))j.hostname=j.hostname.slice(1,-1);if(j.port!=="")j.port=Number(j.port);return j.path=j.search?j.pathname+j.search:j.pathname,j}function K1($,B){var j;for(var G in B)if($.test(G))j=B[G],delete B[G];return j===null||typeof j==="undefined"?void 0:String(j).trim()}function p($,B,j){function G(Y){if(q(Error.captureStackTrace))Error.captureStackTrace(this,this.constructor);Object.assign(this,Y||{}),this.code=$,this.message=this.cause?B+": "+this.cause.message:B}return G.prototype=new(j||Error),Object.defineProperties(G.prototype,{constructor:{value:G,enumerable:!1},name:{value:"Error ["+$+"]",enumerable:!1}}),G}function L1($,B){for(var j of F1)$.removeListener(j,M1[j]);$.on("error",j0),$.destroy(B)}function m$($,B){N1(k($)&&k(B));var j=$.length-B.length-1;return j>0&&$[j]==="."&&$.endsWith(B)}function k($){return typeof $==="string"||$ instanceof String}function q($){return typeof $==="function"}function v$($){return typeof $==="object"&&"length"in $}function u$($){return c&&$ instanceof c}var l=N("url"),c=l.URL,x$=N("http"),R$=N("https"),V1=N("stream").Writable,N1=N("assert"),$0=e1();(function $(){var B=typeof process!=="undefined",j=typeof window!=="undefined"&&typeof document!=="undefined",G=q(Error.captureStackTrace);if(!B&&(j||!G))console.warn("The follow-redirects package should be excluded from browser builds.")})();var A1=!1;try{N1(new c(""))}catch($){A1=$.code==="ERR_INVALID_URL"}var k$=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],F1=["abort","aborted","connect","error","socket","timeout"],M1=Object.create(null);F1.forEach(function($){M1[$]=function(B,j,G){this._redirectable.emit($,B,j,G)}});var X1=p("ERR_INVALID_URL","Invalid URL",TypeError),W1=p("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),q$=p("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",W1),y$=p("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),h$=p("ERR_STREAM_WRITE_AFTER_END","write after end"),f$=V1.prototype.destroy||j0;T.prototype=Object.create(V1.prototype);T.prototype.abort=function(){L1(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};T.prototype.destroy=function($){return L1(this._currentRequest,$),f$.call(this,$),this};T.prototype.write=function($,B,j){if(this._ending)throw new h$;if(!k($)&&!v$($))throw new TypeError("data should be a string, Buffer or Uint8Array");if(q(B))j=B,B=null;if($.length===0){if(j)j();return}if(this._requestBodyLength+$.length<=this._options.maxBodyLength)this._requestBodyLength+=$.length,this._requestBodyBuffers.push({data:$,encoding:B}),this._currentRequest.write($,B,j);else this.emit("error",new y$),this.abort()};T.prototype.end=function($,B,j){if(q($))j=$,$=B=null;else if(q(B))j=B,B=null;if(!$)this._ended=this._ending=!0,this._currentRequest.end(null,null,j);else{var G=this,Y=this._currentRequest;this.write($,B,function(){G._ended=!0,Y.end(null,null,j)}),this._ending=!0}};T.prototype.setHeader=function($,B){this._options.headers[$]=B,this._currentRequest.setHeader($,B)};T.prototype.removeHeader=function($){delete this._options.headers[$],this._currentRequest.removeHeader($)};T.prototype.setTimeout=function($,B){var j=this;function G(z){z.setTimeout($),z.removeListener("timeout",z.destroy),z.addListener("timeout",z.destroy)}function Y(z){if(j._timeout)clearTimeout(j._timeout);j._timeout=setTimeout(function(){j.emit("timeout"),Z()},$),G(z)}function Z(){if(j._timeout)clearTimeout(j._timeout),j._timeout=null;if(j.removeListener("abort",Z),j.removeListener("error",Z),j.removeListener("response",Z),j.removeListener("close",Z),B)j.removeListener("timeout",B);if(!j.socket)j._currentRequest.removeListener("socket",Y)}if(B)this.on("timeout",B);if(this.socket)Y(this.socket);else this._currentRequest.once("socket",Y);return this.on("socket",G),this.on("abort",Z),this.on("error",Z),this.on("response",Z),this.on("close",Z),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function($){T.prototype[$]=function(B,j){return this._currentRequest[$](B,j)}});["aborted","connection","socket"].forEach(function($){Object.defineProperty(T.prototype,$,{get:function(){return this._currentRequest[$]}})});T.prototype._sanitizeOptions=function($){if(!$.headers)$.headers={};if($.host){if(!$.hostname)$.hostname=$.host;delete $.host}if(!$.pathname&&$.path){var B=$.path.indexOf("?");if(B<0)$.pathname=$.path;else $.pathname=$.path.substring(0,B),$.search=$.path.substring(B)}};T.prototype._performRequest=function(){var $=this._options.protocol,B=this._options.nativeProtocols[$];if(!B)throw new TypeError("Unsupported protocol "+$);if(this._options.agents){var j=$.slice(0,-1);this._options.agent=this._options.agents[j]}var G=this._currentRequest=B.request(this._options,this._onNativeResponse);G._redirectable=this;for(var Y of F1)G.on(Y,M1[Y]);if(this._currentUrl=/^\//.test(this._options.path)?l.format(this._options):this._options.path,this._isRedirect){var Z=0,z=this,W=this._requestBodyBuffers;(function _(K){if(G===z._currentRequest){if(K)z.emit("error",K);else if(Z<W.length){var Q=W[Z++];if(!G.finished)G.write(Q.data,Q.encoding,_)}else if(z._ended)G.end()}})()}};T.prototype._processResponse=function($){var B=$.statusCode;if(this._options.trackRedirects)this._redirects.push({url:this._currentUrl,headers:$.headers,statusCode:B});var j=$.headers.location;if(!j||this._options.followRedirects===!1||B<300||B>=400){$.responseUrl=this._currentUrl,$.redirects=this._redirects,this.emit("response",$),this._requestBodyBuffers=[];return}if(L1(this._currentRequest),$.destroy(),++this._redirectCount>this._options.maxRedirects)throw new q$;var G,Y=this._options.beforeRedirect;if(Y)G=Object.assign({Host:$.req.getHeader("host")},this._options.headers);var Z=this._options.method;if((B===301||B===302)&&this._options.method==="POST"||B===303&&!/^(?:GET|HEAD)$/.test(this._options.method))this._options.method="GET",this._requestBodyBuffers=[],K1(/^content-/i,this._options.headers);var z=K1(/^host$/i,this._options.headers),W=O1(this._currentUrl),_=z||W.host,K=/^\w+:/.test(j)?this._currentUrl:l.format(Object.assign(W,{host:_})),Q=g$(j,K);if($0("redirecting to",Q.href),this._isRedirect=!0,I1(Q,this._options),Q.protocol!==W.protocol&&Q.protocol!=="https:"||Q.host!==_&&!m$(Q.host,_))K1(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers);if(q(Y)){var J={headers:$.headers,statusCode:B},X={url:K,method:Z,headers:G};Y(this._options,J,X),this._sanitizeOptions(this._options)}this._performRequest()};U1.exports=B0({http:x$,https:R$});U1.exports.wrap=B0});var Z0=F((TB,Y0)=>{var d$=N("http"),c$=N("https"),i=h1(),j1=t(),l$=Q0();i=Object.keys(i).map(function($){return i[$]});var p$={http:d$,https:c$};/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, res, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */Y0.exports={deleteLength:function $(B,j,G){if((B.method==="DELETE"||B.method==="OPTIONS")&&!B.headers["content-length"])B.headers["content-length"]="0",delete B.headers["transfer-encoding"]},timeout:function $(B,j,G){if(G.timeout)B.socket.setTimeout(G.timeout)},XHeaders:function $(B,j,G){if(!G.xfwd)return;var Y=B.isSpdy||j1.hasEncryptedConnection(B),Z={for:B.connection.remoteAddress||B.socket.remoteAddress,port:j1.getPort(B),proto:Y?"https":"http"};["for","port","proto"].forEach(function(z){B.headers["x-forwarded-"+z]=(B.headers["x-forwarded-"+z]||"")+(B.headers["x-forwarded-"+z]?",":"")+Z[z]}),B.headers["x-forwarded-host"]=B.headers["x-forwarded-host"]||B.headers.host||""},stream:function $(B,j,G,Y,Z,z){Z.emit("start",B,j,G.target||G.forward);var W=G.followRedirects?l$:p$,_=W.http,K=W.https;if(G.forward){var Q=(G.forward.protocol==="https:"?K:_).request(j1.setupOutgoing(G.ssl||{},G,B,"forward")),J=P(Q,G.forward);if(B.on("error",J),Q.on("error",J),(G.buffer||B).pipe(Q),!G.target)return j.end()}var X=(G.target.protocol==="https:"?K:_).request(j1.setupOutgoing(G.ssl||{},G,B));if(X.on("socket",function(V){if(Z&&!X.getHeader("expect"))Z.emit("proxyReq",X,B,j,G)}),G.proxyTimeout)X.setTimeout(G.proxyTimeout,function(){X.abort()});B.on("aborted",function(){X.abort()});var I=P(X,G.target);B.on("error",I),X.on("error",I);function P(V,A){return function E(S){if(B.socket.destroyed&&S.code==="ECONNRESET")return Z.emit("econnreset",S,B,j,A),V.abort();if(z)z(S,B,j,A);else Z.emit("error",S,B,j,A)}}(G.buffer||B).pipe(X),X.on("response",function(V){if(Z)Z.emit("proxyRes",V,B,j);if(!j.headersSent&&!G.selfHandleResponse){for(var A=0;A<i.length;A++)if(i[A](B,j,V,G))break}if(!j.finished){if(V.on("end",function(){if(Z)Z.emit("end",B,j,V)}),!G.selfHandleResponse)V.pipe(j)}else if(Z)Z.emit("end",B,j,V)})}}});var J0=F((DB,z0)=>{var i$=N("http"),n$=N("https"),v=t();/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, socket, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */z0.exports={checkMethodAndHeader:function $(B,j){if(B.method!=="GET"||!B.headers.upgrade)return j.destroy(),!0;if(B.headers.upgrade.toLowerCase()!=="websocket")return j.destroy(),!0},XHeaders:function $(B,j,G){if(!G.xfwd)return;var Y={for:B.connection.remoteAddress||B.socket.remoteAddress,port:v.getPort(B),proto:v.hasEncryptedConnection(B)?"wss":"ws"};["for","port","proto"].forEach(function(Z){B.headers["x-forwarded-"+Z]=(B.headers["x-forwarded-"+Z]||"")+(B.headers["x-forwarded-"+Z]?",":"")+Y[Z]})},stream:function $(B,j,G,Y,Z,z){var W=function(Q,J){return Object.keys(J).reduce(function(X,I){var P=J[I];if(!Array.isArray(P))return X.push(I+": "+P),X;for(var V=0;V<P.length;V++)X.push(I+": "+P[V]);return X},[Q]).join("\r\n")+"\r\n\r\n"};if(v.setupSocket(j),Y&&Y.length)j.unshift(Y);var _=(v.isSSL.test(G.target.protocol)?n$:i$).request(v.setupOutgoing(G.ssl||{},G,B));if(Z)Z.emit("proxyReqWs",_,B,j,G,Y);return _.on("error",K),_.on("response",function(Q){if(!Q.upgrade)j.write(W("HTTP/"+Q.httpVersion+" "+Q.statusCode+" "+Q.statusMessage,Q.headers)),Q.pipe(j)}),_.on("upgrade",function(Q,J,X){if(J.on("error",K),J.on("end",function(){Z.emit("close",Q,J,X)}),j.on("error",function(){J.end()}),v.setupSocket(J),X&&X.length)J.unshift(X);j.write(W("HTTP/1.1 101 Switching Protocols",Q.headers)),J.pipe(j).pipe(J),Z.emit("open",J),Z.emit("proxySocket",J)}),_.end();function K(Q){if(z)z(Q,B,j);else Z.emit("error",Q,B,j);j.end()}}}});var N0=F((wB,V0)=>{function H1($){return function(B){return function(j,G){var Y=$==="ws"?this.wsPasses:this.webPasses,Z=[].slice.call(arguments),z=Z.length-1,W,_;if(typeof Z[z]==="function")_=Z[z],z--;var K=B;if(!(Z[z]instanceof Buffer)&&Z[z]!==G)K=_0({},B),_0(K,Z[z]),z--;if(Z[z]instanceof Buffer)W=Z[z];if(["target","forward"].forEach(function(J){if(typeof K[J]==="string")K[J]=a$(K[J])}),!K.target&&!K.forward)return this.emit("error",new Error("Must provide a proper URL as target"));for(var Q=0;Q<Y.length;Q++)if(Y[Q](j,G,K,W,this,_))break}}}function y($){I0.call(this),$=$||{},$.prependPath=$.prependPath===!1?!1:!0,this.web=this.proxyRequest=H1("web")($),this.ws=this.proxyWebsocketRequest=H1("ws")($),this.options=$,this.webPasses=Object.keys(K0).map(function(B){return K0[B]}),this.wsPasses=Object.keys(X0).map(function(B){return X0[B]}),this.on("error",this.onError,this)}var W0=wB,_0=N("util")._extend,a$=N("url").parse,I0=C1(),s$=N("http"),t$=N("https"),K0=Z0(),X0=J0();W0.Server=y;W0.createRightProxy=H1;N("util").inherits(y,I0);y.prototype.onError=function($){if(this.listeners("error").length===1)throw $};y.prototype.listen=function($,B){var j=this,G=function(Y,Z){j.web(Y,Z)};if(this._server=this.options.ssl?t$.createServer(this.options.ssl,G):s$.createServer(G),this.options.ws)this._server.on("upgrade",function(Y,Z,z){j.ws(Y,Z,z)});return this._server.listen($,B),this};y.prototype.close=function($){var B=this;if(this._server)this._server.close(j);function j(){if(B._server=null,$)$.apply(null,arguments)}};y.prototype.before=function($,B,j){if($!=="ws"&&$!=="web")throw new Error("type must be `web` or `ws`");var G=$==="ws"?this.wsPasses:this.webPasses,Y=!1;if(G.forEach(function(Z,z){if(Z.name===B)Y=z}),Y===!1)throw new Error("No such pass");G.splice(Y,0,j)};y.prototype.after=function($,B,j){if($!=="ws"&&$!=="web")throw new Error("type must be `web` or `ws`");var G=$==="ws"?this.wsPasses:this.webPasses,Y=!1;if(G.forEach(function(Z,z){if(Z.name===B)Y=z}),Y===!1)throw new Error("No such pass");G.splice(Y++,0,j)}});var F0=F((PB,A0)=>{function T1($){return new n($)}var n=N0().Server;n.createProxyServer=T1;n.createServer=T1;n.createProxy=T1;A0.exports=n});var O0=F((SB,M0)=>{/*!
 * Caron dimonio, con occhi di bragia
 * loro accennando, tutte le raccoglie;
 * batte col remo qualunque s’adagia 
 *
 * Charon the demon, with the eyes of glede,
 * Beckoning to them, collects them all together,
 * Beats with his oar whoever lags behind
 *          
 *          Dante - The Divine Comedy (Canto III)
 */M0.exports=F0()});var H0=v0(O0(),1);import*as U0 from"vite";import r$ from"path";import o$ from"fs-extra";import h from"path";var D={cyan:(...$)=>`\x1B[36m${$.join(" ")}\x1B[0m`,red:(...$)=>`\x1B[31m${$.join(" ")}\x1B[0m`,yellow:(...$)=>`\x1B[33m${$.join(" ")}\x1B[0m`,green:(...$)=>`\x1B[32m${$.join(" ")}\x1B[0m`,blue:(...$)=>`\x1B[34m${$.join(" ")}\x1B[0m`,magenta:(...$)=>`\x1B[35m${$.join(" ")}\x1B[0m`,cyanBright:(...$)=>`\x1B[96m${$.join(" ")}\x1B[0m`,redBright:(...$)=>`\x1B[91m${$.join(" ")}\x1B[0m`,yellowBright:(...$)=>`\x1B[93m${$.join(" ")}\x1B[0m`,greenBright:(...$)=>`\x1B[92m${$.join(" ")}\x1B[0m`,blueBright:(...$)=>`\x1B[94m${$.join(" ")}\x1B[0m`,magentaBright:(...$)=>`\x1B[95m${$.join(" ")}\x1B[0m`,whiteBright:(...$)=>`\x1B[97m${$.join(" ")}\x1B[0m`,gray:(...$)=>`\x1B[90m${$.join(" ")}\x1B[0m`,grey:(...$)=>`\x1B[90m${$.join(" ")}\x1B[0m`,white:(...$)=>`\x1B[37m${$.join(" ")}\x1B[0m`,black:(...$)=>`\x1B[30m${$.join(" ")}\x1B[0m`,blackBright:(...$)=>`\x1B[90m${$.join(" ")}\x1B[0m`,bgCyan:(...$)=>`\x1B[46m${$.join(" ")}\x1B[0m`,bgRed:(...$)=>`\x1B[41m${$.join(" ")}\x1B[0m`,bgYellow:(...$)=>`\x1B[43m${$.join(" ")}\x1B[0m`,bgGreen:(...$)=>`\x1B[42m${$.join(" ")}\x1B[0m`,bgBlue:(...$)=>`\x1B[44m${$.join(" ")}\x1B[0m`,bgMagenta:(...$)=>`\x1B[45m${$.join(" ")}\x1B[0m`,bgCyanBright:(...$)=>`\x1B[106m${$.join(" ")}\x1B[0m`,bgRedBright:(...$)=>`\x1B[101m${$.join(" ")}\x1B[0m`,bgYellowBright:(...$)=>`\x1B[103m${$.join(" ")}\x1B[0m`,bgGreenBright:(...$)=>`\x1B[102m${$.join(" ")}\x1B[0m`,bgBlueBright:(...$)=>`\x1B[104m${$.join(" ")}\x1B[0m`,bgMagentaBright:(...$)=>`\x1B[105m${$.join(" ")}\x1B[0m`,cyanBrightBold:(...$)=>`\x1B[96m\x1B[1m${$.join(" ")}\x1B[0m`,redBrightBold:(...$)=>`\x1B[91m\x1B[1m${$.join(" ")}\x1B[0m`,yellowBrightBold:(...$)=>`\x1B[93m\x1B[1m${$.join(" ")}\x1B[0m`,greenBrightBold:(...$)=>`\x1B[92m\x1B[1m${$.join(" ")}\x1B[0m`,blueBrightBold:(...$)=>`\x1B[94m\x1B[1m${$.join(" ")}\x1B[0m`,magentaBrightBold:(...$)=>`\x1B[95m\x1B[1m${$.join(" ")}\x1B[0m`,whiteBrightBold:(...$)=>`\x1B[97m\x1B[1m${$.join(" ")}\x1B[0m`,grayBrightBold:(...$)=>`\x1B[90m\x1B[1m${$.join(" ")}\x1B[0m`,greyBrightBold:(...$)=>`\x1B[90m\x1B[1m${$.join(" ")}\x1B[0m`,whiteBold:(...$)=>`\x1B[37m\x1B[1m${$.join(" ")}\x1B[0m`,blackBold:(...$)=>`\x1B[30m\x1B[1m${$.join(" ")}\x1B[0m`,blackBrightBold:(...$)=>`\x1B[90m\x1B[1m${$.join(" ")}\x1B[0m`};async function L0(){console.warn("Building Vite config using base:",D.yellowBrightBold(h.resolve("vite.config.ts")));let $=await(await import(h.resolve("vite.config.ts"))).default();const B=await o$.readJSONSync(h.resolve("tsconfig.json"));return $={...$,logLevel:"info",mode:"development",root:h.resolve("app/client"),clearScreen:!0,build:{...$.build,cssCodeSplit:!0,outDir:h.resolve("build/client"),sourcemap:!0,rollupOptions:{output:{manualChunks:void 0}},watch:{...$.build?.watch,include:[...(Array.isArray($.build?.watch?.include)?$.build?.watch?.include:[$.build?.watch?.include])||[],...B?.include?.map((j)=>h.resolve(j))||[],"tsconfig.json"].filter(Boolean)},emptyOutDir:!0},resolve:{alias:{config:h.resolve("app/config")}}},$}async function hB($,B,j,G=[]){console.warn(D.bgMagentaBright("Vite: Checking environment...","development")),console.warn(D.bgMagentaBright("Starting Vite proxy for HMR..."));let Y=Number(process.env.VITE_PORT||25555);if(isNaN(Y))Y=25555;const Z=H0.default.createProxyServer({target:{host:"localhost",port:Y}});$.get("*",...G,(K,Q)=>Z.web(K,Q)),B.on("upgrade",(K,Q,J)=>{if(K.url=="/")Z.ws(K,Q,J)});const z=await L0(),W={root:r$.resolve("app/client"),server:{port:Y}};(await U0.createServer({...z,...W})).listen()}import*as R0 from"@vitejs/plugin-react";import QB from"vite-plugin-css-injected-by-js";import YB from"path";import ZB from"vite-plugin-checker";import e$ from"fs";import T0 from"path";function D0(){return{name:"vite-base64-inline-assets-plugin",enforce:"pre",load($){const B=T0.resolve($);let j;switch(T0.extname(B)){case".woff":j="font/woff";break;case".woff2":j="font/woff2";break;case".ttf":j="font/ttf";break;case".png":j="image/png";break;case".jpg":case".jpeg":j="image/jpeg";break;case".gif":j="image/gif";break;case".svg":j="image/svg+xml";break}if(j){const Y=e$.readFileSync(B).toString("base64");return`export default "data:${j};base64,${Y}"`}}}}import O from"fs-extra";import L from"path";import w0 from"fs";import P0 from"path";function S0($){return{name:"vite-devops-string-replace-plugin",enforce:"pre",load(B){const j=P0.resolve(B),G=[".ts",".js",".tsx",".jsx"];if(w0.existsSync(j)&&G.includes(P0.extname(j))&&!j.includes("node_modules")&&!j.includes("\0")){let Y=w0.readFileSync(j,{encoding:"utf-8"});return $.forEach((Z)=>{Y=Y.replace(Z.from,Z.to)}),Y}}}}function C0($){const B=process.env.PROJECT_ROOT||".",j=L.resolve(B,"app/config");if(!O.existsSync(j)){console.warn(`viteDevopsAppConfigPlugin: ${D.cyanBrightBold("No app/config folder found.")}`);return}try{const G=O.readdirSync(j).filter((Q)=>{return O.statSync(L.join(j,Q)).isDirectory()}),Y=G.map((Q)=>L.join(j,Q)),z=G.map((Q,J)=>{if(!$)if(O.existsSync(L.join(Y[J],`${Q}.local`))||O.existsSync(L.join(Y[J],`${Q}.local.js`))||O.existsSync(L.join(Y[J],`${Q}.local.ts`))||O.existsSync(L.join(Y[J],`${Q}.local.tsx`))||O.existsSync(L.join(Y[J],`${Q}.local.jsx`)))return[{from:`"config/${Q}/${Q}"`,to:`"config/${Q}/${Q}.local"`},{from:`"config/${Q}/${Q}.js"`,to:`"config/${Q}/${Q}.local.js"`},{from:`"config/${Q}/${Q}.ts"`,to:`"config/${Q}/${Q}.local.ts"`}];else return[];return[{from:`"config/${Q}/${Q}"`,to:`"config/${Q}/${Q}.${$}"`},{from:`"config/${Q}/${Q}.js"`,to:`"config/${Q}/${Q}.${$}.js"`},{from:`"config/${Q}/${Q}.ts"`,to:`"config/${Q}/${Q}.${$}.ts"`}]}).reduce((Q,J)=>Q.concat(J),[]),K=[...!$&&(O.existsSync(L.join(j,"env.local"))||O.existsSync(L.join(j,"env.local.js"))||O.existsSync(L.join(j,"env.local.ts"))||O.existsSync(L.join(j,"env.local.tsx"))||O.existsSync(L.join(j,"env.local.jsx")))?[{from:'"config/env"',to:'"config/env.local"'},{from:'"config/env.js"',to:'"config/env.local.js"'},{from:'"config/env.ts"',to:'"config/env.local.ts"'}]:$?[{from:'"config/env"',to:`"config/env.${$}"`},{from:'"config/env.js"',to:`"config/env.${$}.js"`},{from:'"config/env.ts"',to:`"config/env.${$}.ts"`}]:[],...z];if(K.length>0)console.warn(`

  ${D.yellowBrightBold("Using the following mappings for app config:")}

  \t${D.cyanBrightBold(K.map((Q)=>`\n  ${Q.from} => ${Q.to}`).join("\n\t"))}

      `);return S0(K)}catch(G){console.error(G),console.error(D.redBrightBold(`
      App config plugin failed to load. The default config paths will be used
      and any specific environment requested will be ignored.
    `))}}import E0 from"fs";import D1 from"path";function $B($,B,j,G){if(B<0){if(B=$.length+B,B<0)B=0}return $.slice(0,B)+(G||"")+$.slice(B+j)}function BB($){let B=!1,j=!1;const G=[];let Y={start:-1,stop:-1},Z={start:-1,stop:-1};for(let z=0,W=$.length;z<W;++z){const _=$[z],K=$[z+1];switch(_){case"/":switch(K){case"*":if(!j&&!B)Y.start=z,B=!0,z++;break;case"/":if(!B&&!j)Z.start=z,j=!0,z++;break}break;case"*":if(K==="/"){if(B)Y.stop=z+2,G.push(Y),Y={start:-1,stop:-1},B=!1,z++}break;case"\n":case"\r":if(j)Z.stop=z,G.push(Z),Z={start:-1,stop:-1},j=!1;break}}return G.reverse(),G.forEach((z)=>{$=$B($,z.start,z.stop-z.start)}),$}function jB($){return $=$.replace(/\t/g," "),$=$.replace(/  +/gm," "),$=$.replace(/ (\n|\r)+/gm,"\n"),$=$.replace(/(\n|\r)(\n|\r)+/gm,"\n"),$=$.replace(/(\n|\r) +/gm,"\n"),$.trim()}function GB($){const B=BB($),j=jB(B);return b0(j)}function b0($){const B=JSON.stringify($).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\$\{/gm,"$\\{");return`export default \`${B.slice(1,B.length-1)}\`;`}function x0(){return{name:"vite-devops-shader-compression-plugin",enforce:"pre",load($){const B=D1.resolve($),j=[".vs",".fs"];if(E0.existsSync(B)&&j.includes(D1.extname(B))&&!B.includes("node_modules")&&!B.includes("\0")){const G=E0.readFileSync(B,{encoding:"utf-8"});return console.warn("Not compressing shader:",D.cyanBrightBold(D1.basename(B))),b0(G)}}}}async function Y9($){const B={babel:{parserOpts:{plugins:["decorators-legacy","classProperties"]}}},j=process.env.ENV_MODE;return[x0(),C0(j),(R0?.default||R0?.default?.default)?.($?.react?$?.react(B):B),D0(),QB(),ZB({typescript:{root:YB.resolve(".")}})].filter(Boolean)}export{S0 as viteDevopsStringReplacePlugin,x0 as viteDevopsShaderCompressionPlugin,C0 as viteDevopsAppConfigPlugin,D0 as viteBase64InlineAssetsPlugin,hB as useVite,Y9 as useDevopsPlugins};
